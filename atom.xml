<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Peter_Matthew的博客</title>
  
  <subtitle>A Konjac in Province H.A.&#39;s Blog</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://www.zhangkai.xin/"/>
  <updated>2020-04-05T16:19:24.915Z</updated>
  <id>https://www.zhangkai.xin/</id>
  
  <author>
    <name>William Peter Matthew</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>成人快乐</title>
    <link href="https://www.zhangkai.xin/blog/HappyGrownup/"/>
    <id>https://www.zhangkai.xin/blog/HappyGrownup/</id>
    <published>2020-04-20T02:55:00.000Z</published>
    <updated>2020-04-05T16:19:24.915Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css"><link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>终于<br>&emsp;&emsp;<br>2020年4月20日10点55分，我18岁了。<br>&emsp;&emsp;<br>十分感谢一路上陪伴我的家人，朋友，同学，老师，以及那些给过我一个温暖的微笑的亲爱的陌生人，感谢你们让我坚持走到现在。<br>也要和那些冷眼相待我的人说声感谢，感谢你们让我认识到了社会。<br>&emsp;&emsp;<br>十八年来，我也曾被别人伤害过，也曾伤害过别人。但无论如何，都要和你们说一声对不起。<br>&emsp;&emsp;<br>能改变一切的只有时间。十年为了一个人，九年也为了一个人，八年也为了一个人。也许路人早十五分钟是另一个结局，路人晚十分钟又是另一个结局，但时间选择了中间，一刀切断所有。<br>&emsp;&emsp;<br>十八岁了，丹参成仁了。有遗憾，没有体会到青春的这一份美好，也许以后可以拥有，也许不会拥有。<br>&emsp;&emsp;<br>十八岁了，也许应该满怀期待奔向明天，也许会被残酷现实打击，但我总要向前。<br>&emsp;&emsp;<br>十八岁了啊。<br>&emsp;&emsp;<br>&emsp;&emsp;<br>最后：<br>&emsp;&emsp;<br>愿漂泊的人，都能有酒喝，<br>愿孤独的人，都自在唱歌。<br>愿相爱的人，都拥有未来，<br>愿等待的人，都得到回答。<br>愿孤单的人，不必总逞强，<br>愿逞强的人，身边有肩膀。<br>愿有个肩膀，承欢喜忧伤，<br>愿天下情人，永执手相望。<br>愿你如阳光，明媚不忧伤，<br>愿你如月光，明亮不清冷。<br>愿你走四方，总有休憩处，<br>愿你爱的人，是爱你的人。<br>&emsp;&emsp;<br>十八岁了。<br>成人快乐。<br>&emsp;&emsp;<br><font color="white">叶昕</font><br>张开昕<br>2020年4月20日<br>庚子鼠年庚辰月癸巳日<br><img src="https://res.zhangkai.xin/pic/115282_OuDWsPsO.png" alt="丹参成仁（单身成人）"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css&quot;&gt;&lt;link rel=&quot;stylesheet&quot; class
      
    
    </summary>
    
    
      <category term="日志" scheme="https://www.zhangkai.xin/tags/%E6%97%A5%E5%BF%97/"/>
    
  </entry>
  
  <entry>
    <title>PC软件推荐</title>
    <link href="https://www.zhangkai.xin/blog/Software-PC/"/>
    <id>https://www.zhangkai.xin/blog/Software-PC/</id>
    <published>2020-01-27T04:00:00.000Z</published>
    <updated>2020-03-07T23:31:21.923Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css"><link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>（博主较忙，先列上部分列表占个坑，以后回来填）</p><h1 id="杀毒软件"><a href="#杀毒软件" class="headerlink" title="杀毒软件"></a>杀毒软件</h1><h2 id="火绒"><a href="#火绒" class="headerlink" title="火绒"></a>火绒</h2><h1 id="浏览器"><a href="#浏览器" class="headerlink" title="浏览器"></a>浏览器</h1><h2 id="百分浏览器"><a href="#百分浏览器" class="headerlink" title="百分浏览器"></a>百分浏览器</h2><h1 id="聊天"><a href="#聊天" class="headerlink" title="聊天"></a>聊天</h1><h2 id="QQ"><a href="#QQ" class="headerlink" title="QQ"></a>QQ</h2><h1 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h1><h2 id="迅雷U享版"><a href="#迅雷U享版" class="headerlink" title="迅雷U享版"></a>迅雷U享版</h2><h1 id="输入法"><a href="#输入法" class="headerlink" title="输入法"></a>输入法</h1><h2 id="搜狗智慧输入法"><a href="#搜狗智慧输入法" class="headerlink" title="搜狗智慧输入法"></a>搜狗智慧输入法</h2><h1 id="音乐软件"><a href="#音乐软件" class="headerlink" title="音乐软件"></a>音乐软件</h1><h2 id="网易云音乐"><a href="#网易云音乐" class="headerlink" title="网易云音乐"></a>网易云音乐</h2><h1 id="视频软件"><a href="#视频软件" class="headerlink" title="视频软件"></a>视频软件</h1><h2 id="PotPlayer"><a href="#PotPlayer" class="headerlink" title="PotPlayer"></a>PotPlayer</h2><h1 id="解压软件"><a href="#解压软件" class="headerlink" title="解压软件"></a>解压软件</h1><h2 id="Bandizip"><a href="#Bandizip" class="headerlink" title="Bandizip"></a>Bandizip</h2><h1 id="文本编辑器"><a href="#文本编辑器" class="headerlink" title="文本编辑器"></a>文本编辑器</h1><h2 id="Notepad"><a href="#Notepad" class="headerlink" title="Notepad++"></a>Notepad++</h2><h1 id="办公软件"><a href="#办公软件" class="headerlink" title="办公软件"></a>办公软件</h1><h2 id="Microsoft-Office"><a href="#Microsoft-Office" class="headerlink" title="Microsoft Office"></a>Microsoft Office</h2><h2 id="网易邮箱大师"><a href="#网易邮箱大师" class="headerlink" title="网易邮箱大师"></a>网易邮箱大师</h2><h1 id="图片编辑"><a href="#图片编辑" class="headerlink" title="图片编辑"></a>图片编辑</h1><h2 id="Adobe-Photoshop"><a href="#Adobe-Photoshop" class="headerlink" title="Adobe Photoshop"></a>Adobe Photoshop</h2><h1 id="音乐编辑"><a href="#音乐编辑" class="headerlink" title="音乐编辑"></a>音乐编辑</h1><h2 id="Adobe-Audition"><a href="#Adobe-Audition" class="headerlink" title="Adobe Audition"></a>Adobe Audition</h2><h1 id="视频编辑"><a href="#视频编辑" class="headerlink" title="视频编辑"></a>视频编辑</h1><h2 id="Adobe-Premiere-Pro"><a href="#Adobe-Premiere-Pro" class="headerlink" title="Adobe Premiere Pro"></a>Adobe Premiere Pro</h2><hr><blockquote><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://res.zhangkai.xin/pic/license/BY-NC-SA_80x15.png" alt="知识共享许可协议"></a></p><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://res.zhangkai.xin/pic/license/BY-NC-SA_88x31.png" alt="知识共享许可协议"></a></p><p>本作品采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css&quot;&gt;&lt;link rel=&quot;stylesheet&quot; class
      
    
    </summary>
    
    
      <category term="软件推荐" scheme="https://www.zhangkai.xin/tags/%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/"/>
    
  </entry>
  
  <entry>
    <title>下歌</title>
    <link href="https://www.zhangkai.xin/blog/Song-Download/"/>
    <id>https://www.zhangkai.xin/blog/Song-Download/</id>
    <published>2019-10-01T04:34:56.000Z</published>
    <updated>2020-03-07T23:33:28.635Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css"><link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>文章以 Google Chrome 浏览器作示例。<br>视频文件较大建议下载到本地观看。<br>视频文件较大建议下载到本地观看。  </p></blockquote><h1 id="网易云音乐"><a href="#网易云音乐" class="headerlink" title="网易云音乐"></a>网易云音乐</h1><h2 id="视频"><a href="#视频" class="headerlink" title="视频"></a>视频</h2><div id="dplayer0" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer0"),"video":{"url":"https://peter_matthew.coding.net/api/share/download/cc7d91cb-1dac-4959-ac9a-4a69fc6ff474","pic":"https://res.zhangkai.xin/pic/SongDownload/WYY01.png"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script><p><a href="https://Peter_Matthew.coding.net/s/cc7d91cb-1dac-4959-ac9a-4a69fc6ff474" target="_blank" rel="noopener">点这里下载视频</a></p><h2 id="图文分解"><a href="#图文分解" class="headerlink" title="图文分解"></a>图文分解</h2><p>1.打开歌曲页面<br><img src="https://res.zhangkai.xin/pic/SongDownload/WYY01.png" alt="WYY01"></p><p>2.在页面右键，选择“检查”（审查元素）<br><img src="https://res.zhangkai.xin/pic/SongDownload/WYY02.png" alt="WYY02"></p><p>3.在新出来的对话框中选择 Network 选项卡<br><img src="https://res.zhangkai.xin/pic/SongDownload/WYY03.png" alt="WYY03"></p><p>4.播放歌曲<br><img src="https://res.zhangkai.xin/pic/SongDownload/WYY04.png" alt="WYY04"></p><p>5.在左方的区域找到<code>.mp3</code>结尾的文件<br><img src="https://res.zhangkai.xin/pic/SongDownload/WYY05.png" alt="WYY05"></p><p>6.右键此文件选择’Open in new tab’<br><img src="https://res.zhangkai.xin/pic/SongDownload/WYY06.png" alt="WYY06"></p><p>7.如果浏览器可以直接下载，则下载；如果不可以直接下载，复制歌曲网址，打开下载器，选择新建下载，在地址框中粘贴网址并下载<br><img src="https://res.zhangkai.xin/pic/SongDownload/WYY07.png" alt="WYY07"></p><h1 id="QQ音乐"><a href="#QQ音乐" class="headerlink" title="QQ音乐"></a>QQ音乐</h1><h2 id="视频-1"><a href="#视频-1" class="headerlink" title="视频"></a>视频</h2><div id="dplayer1" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer1"),"video":{"url":"https://peter_matthew.coding.net/api/share/download/766da116-d34b-47b5-8f39-800cc5a0b160","pic":"https://res.zhangkai.xin/pic/SongDownload/QQ01.png"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script><p><a href="https://Peter_Matthew.coding.net/s/766da116-d34b-47b5-8f39-800cc5a0b160" target="_blank" rel="noopener">点这里下载视频</a></p><h2 id="图文分解-1"><a href="#图文分解-1" class="headerlink" title="图文分解"></a>图文分解</h2><p>1.打开歌曲页面<br><img src="https://res.zhangkai.xin/pic/SongDownload/QQ01.png" alt="QQ01"></p><p>2.在页面右键，选择“检查”（审查元素）<br><img src="https://res.zhangkai.xin/pic/SongDownload/QQ02.png" alt="QQ02"></p><p>3.在新出来的对话框中选择 Network 选项卡<br><img src="https://res.zhangkai.xin/pic/SongDownload/QQ03.png" alt="QQ03"></p><p>4.播放歌曲<br><img src="https://res.zhangkai.xin/pic/SongDownload/QQ04.png" alt="QQ04"></p><p>5.在左方的区域找到<code>.m4a</code>结尾的文件<br><img src="https://res.zhangkai.xin/pic/SongDownload/QQ05.png" alt="QQ05"></p><p>6.右键此文件选择’Open in new tab’<br><img src="https://res.zhangkai.xin/pic/SongDownload/QQ06.png" alt="QQ06"></p><p>7.如果浏览器可以直接下载，则下载；如果不可以直接下载，复制歌曲网址，打开下载器，选择新建下载，在地址框中粘贴网址并下载<br><img src="https://res.zhangkai.xin/pic/SongDownload/QQ07.png" alt="QQ07"></p><h1 id="酷狗音乐"><a href="#酷狗音乐" class="headerlink" title="酷狗音乐"></a>酷狗音乐</h1><h2 id="视频-2"><a href="#视频-2" class="headerlink" title="视频"></a>视频</h2><div id="dplayer2" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer2"),"video":{"url":"https://peter_matthew.coding.net/api/share/download/aa07edfd-5d0f-4a55-a7b6-089410122e1f","pic":"https://res.zhangkai.xin/pic/SongDownload/KG01.png"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script><p><a href="https://Peter_Matthew.coding.net/s/aa07edfd-5d0f-4a55-a7b6-089410122e1f" target="_blank" rel="noopener">点这里下载视频</a></p><h2 id="图文分解-2"><a href="#图文分解-2" class="headerlink" title="图文分解"></a>图文分解</h2><p>1.打开歌曲页面<br><img src="https://res.zhangkai.xin/pic/SongDownload/KG01.png" alt="KG01"></p><p>2.在页面右键，选择“检查”（审查元素）<br><img src="https://res.zhangkai.xin/pic/SongDownload/KG02.png" alt="KG02"></p><p>3.在新出来的对话框中选择 Network 选项卡<br><img src="https://res.zhangkai.xin/pic/SongDownload/KG03.png" alt="KG03"></p><p>4.播放歌曲<br><img src="https://res.zhangkai.xin/pic/SongDownload/KG04.png" alt="KG04"></p><p>5.在左方的区域找到<code>.mp3</code>结尾的文件<br><img src="https://res.zhangkai.xin/pic/SongDownload/KG05.png" alt="KG05"></p><p>6.右键此文件选择’Open in new tab’<br><img src="https://res.zhangkai.xin/pic/SongDownload/KG06.png" alt="KG06"></p><p>7.如果浏览器可以直接下载，则下载；如果不可以直接下载，复制歌曲网址，打开下载器，选择新建下载，在地址框中粘贴网址并下载<br><img src="https://res.zhangkai.xin/pic/SongDownload/KG07.png" alt="KG07"></p><h1 id="酷我音乐"><a href="#酷我音乐" class="headerlink" title="酷我音乐"></a>酷我音乐</h1><h2 id="视频-3"><a href="#视频-3" class="headerlink" title="视频"></a>视频</h2><div id="dplayer3" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer3"),"video":{"url":"https://peter_matthew.coding.net/api/share/download/ece1e2e9-2c43-4971-b416-b6190c87a1f8","pic":"https://res.zhangkai.xin/pic/SongDownload/KW01.png"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script><p><a href="https://Peter_Matthew.coding.net/s/ece1e2e9-2c43-4971-b416-b6190c87a1f8" target="_blank" rel="noopener">点这里下载视频</a></p><h2 id="图文分解-3"><a href="#图文分解-3" class="headerlink" title="图文分解"></a>图文分解</h2><p>1.打开歌曲页面<br><img src="https://res.zhangkai.xin/pic/SongDownload/KW01.png" alt="KW01"></p><p>2.在页面右键，选择“检查”（审查元素）<br><img src="https://res.zhangkai.xin/pic/SongDownload/KW02.png" alt="KW02"></p><p>3.在新出来的对话框中选择 Network 选项卡<br><img src="https://res.zhangkai.xin/pic/SongDownload/KW03.png" alt="KW03"></p><p>4.播放歌曲<br><img src="https://res.zhangkai.xin/pic/SongDownload/KW04.png" alt="KW04"></p><p>5.在左方的区域找到<code>.mp3</code>结尾的文件<br><img src="https://res.zhangkai.xin/pic/SongDownload/KW05.png" alt="KW05"></p><p>6.右键此文件选择’Open in new tab’<br><img src="https://res.zhangkai.xin/pic/SongDownload/KW06.png" alt="KW06"></p><p>7.如果浏览器可以直接下载，则下载；如果不可以直接下载，复制歌曲网址，打开下载器，选择新建下载，在地址框中粘贴网址并下载<br><img src="https://res.zhangkai.xin/pic/SongDownload/KW07.png" alt="KW07"></p><hr><blockquote><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://res.zhangkai.xin/pic/license/BY-NC-SA_80x15.png" alt="知识共享许可协议"></a></p><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://res.zhangkai.xin/pic/license/BY-NC-SA_88x31.png" alt="知识共享许可协议"></a></p><p>本作品采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css&quot;&gt;&lt;link rel=&quot;stylesheet&quot; class
      
    
    </summary>
    
    
      <category term="科技" scheme="https://www.zhangkai.xin/tags/%E7%A7%91%E6%8A%80/"/>
    
  </entry>
  
  <entry>
    <title>张开昕自传</title>
    <link href="https://www.zhangkai.xin/blog/Autobiography-01/"/>
    <id>https://www.zhangkai.xin/blog/Autobiography-01/</id>
    <published>2019-07-31T18:05:08.000Z</published>
    <updated>2020-03-03T04:22:26.754Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css"><link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h4 id="序言"><a href="#序言" class="headerlink" title="序言"></a>序言</h4><p>&emsp;&emsp;建国70年，师留此任，欲以文言之语述人物之传。左思右想，虑吾实无大好，且朋稀少，应无人会记吾，且吾不熟他人，不便写他人，故作此传。虽拙，无趣，但以吾本人所记，无知己可懂，只为终任。</p><h4 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h4><p>&emsp;&emsp;开昕，张氏，河南洛阳人也，未有字。因名如嬉也，少有人送外号，然以述雍正帝而为送外号“四爷”。生于农历壬午年甲辰月戊午日。因母醒见日，故易“心”为“昕”。幼时体弱多疾，不及周岁，会大疾，几亡，未几自愈，不知所以。相貌平平，亦不勤学，排名屡处他人之后，但亦盼成大器。噫！朽木不可雕也。<br>&emsp;&emsp;吾本顽童，生长于洛阳，苟且偷乐于童年，不求提名于金榜。家父不以吾顽劣，猥自枉驱，三顾吾于床榻之上，施吾以长拳短脚，由是恐惧，遂许家父以趋驰。后值败绩，受教乎拼音数字，擅长乎加减乘除，尔来十有一年矣。<br>&emsp;&emsp;吾有多好，然不善之。好朗诵，以文绩欠佳不使上台而去。好唱歌，生性胆小，常于空旷外引吭高歌，不敢扰民。然吾性恶为人逼，因多失欲好之物。尝欲读，后为强读名著而读书倦。亦尝欲诵书，然小学师强留我诵书，吾欲与之为难，故智逃诵书，终不善诵书。<br>&emsp;&emsp;呜呼！既志不得实现，只得于虚幻中尝试。吾热衷于电脑，亦颇有造化。尝得科考三级、四级证与省试甲等证，虽自招势恶，已无大用，然犹可明吾颇有造化。吾志不在高，无欲攀得人之峰顶，但欲竭尽吾之所能。无欲清北，但欲学有一技所长。吾幼好航空航天，尝观太空授课直播于校，特欲参航空航天，历知往事，欲就北京航空航天飞行控制中心。然吾又好刑侦，常读事件，又欲奋身才参警刑事部或支持部，且军战略支援部亦可，若才足，欲入国安、国报至矣。此二者为吾之所欲者，然若不可得，为程序员于公司或为游戏主播于家中，皆非吾所恶者。嘻！脸皮之厚度，人难以匹敌哉！<br>&emsp;&emsp;吾欲交友，但尝有车祸，丧一要友而吾伤。然此不曾为他人道也，盖幼时体弱多疾，以一行疾隐之。然身疾已愈而心疾长留，虽受医师理疗可与他人交谈，然益孤僻。虽竭尽无欲令他人见而使色朗，实则愿独处一室。然今虽欲独处一室，但非恶与他人交谈，可实乐，若有一知己益佳。<br>&emsp;&emsp;凡有熟吾者，皆道吾“怪”。建国59年，入小学，待人以随和，行事以斟酌，不斤斤于得失，不争争于屑小，似非他人。故师常与吾谈话，知己白颢阳故曰“怪”。建国65年，入初中，因信息技术为全级老师所识，常管校内监控、校训平台，但又以故坏监控、当众阅游戏视频为校长谈。老师称吾与同班好友岳文轩为“二怪才”，文轩怪于魔方之术，甚曾有国内五阶盲拧第二、四阶盲拧第三之奖。校长以吾异于他人，敢数次交流于校长，称吾“怪”。建国68年，入高中，因同学以学业为重，所熟者甚少，未尝有人称吾“怪”。<br>&emsp;&emsp;今人有云：“先天下早饭而早饭，后天下晚饭而晚饭。”其言兹若中学生乎？挑灯夜读，以得其分。初中之学生欤？高中之学生欤？然今人甚有云：“天将降大任于斯人也，必先卸其QQ，封其微博，删其微信，去其贴吧，收其电脑，夺其手机，摔其iPad，断其WiFi，剪其网线，使其百无聊赖，然后静坐、喝茶、思过、锻炼、读书、弹琴、练字、明智、开悟、精进，而后必成大器也。”如此可见，吾非能荷重任之人。<br>&emsp;&emsp;时建国70年农历七月初一。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css&quot;&gt;&lt;link rel=&quot;stylesheet&quot; class
      
    
    </summary>
    
    
      <category term="日志" scheme="https://www.zhangkai.xin/tags/%E6%97%A5%E5%BF%97/"/>
    
  </entry>
  
  <entry>
    <title>题解 T74818 【[开昕生日愚人题#6]有规律数列】</title>
    <link href="https://www.zhangkai.xin/blog/solution-t74818/"/>
    <id>https://www.zhangkai.xin/blog/solution-t74818/</id>
    <published>2019-05-03T08:16:16.000Z</published>
    <updated>2020-03-03T04:08:58.749Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css"><link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><a href="https://www.luogu.org/problemnew/show/T74818" target="_blank" rel="noopener">LuoguT74818</a>:</p><p>去年我们的无规律数列是纽结数，今年的也和纽结有关。当环是被奇次翻折后粘贴的，则剪开后应是翻折次数纽结的第一个即X_1（X是翻着次数，下同）；当为偶次，则应是双圈纽结的第一个即X^2_1。但是由于不存在1_1（因为单独的交点可以折为没有交点），所以应该输出0_1。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css&quot;&gt;&lt;link rel=&quot;stylesheet&quot; class
      
    
    </summary>
    
    
      <category term="题解" scheme="https://www.zhangkai.xin/tags/%E9%A2%98%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>题解 T74817 【[开昕生日愚人题#5]质数的检验】</title>
    <link href="https://www.zhangkai.xin/blog/solution-t74817/"/>
    <id>https://www.zhangkai.xin/blog/solution-t74817/</id>
    <published>2019-05-03T07:15:15.000Z</published>
    <updated>2020-03-03T04:09:02.035Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css"><link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><a href="https://www.luogu.org/problemnew/show/T74817" target="_blank" rel="noopener">LuoguT74817</a>:</p><p>这题是打表题，你需要先打出一些特殊数的表，然后if/switch判断并输出即可（当然如果你是神仙的话也可以尝试现场筛素数）。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css&quot;&gt;&lt;link rel=&quot;stylesheet&quot; class
      
    
    </summary>
    
    
      <category term="题解" scheme="https://www.zhangkai.xin/tags/%E9%A2%98%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>题解 T74816 【[开昕生日愚人题#4]多项式展开】</title>
    <link href="https://www.zhangkai.xin/blog/solution-t74816/"/>
    <id>https://www.zhangkai.xin/blog/solution-t74816/</id>
    <published>2019-05-03T06:14:14.000Z</published>
    <updated>2020-03-03T04:09:07.385Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css"><link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><a href="https://www.luogu.org/problemnew/show/T74816" target="_blank" rel="noopener">LuoguT74816</a>:</p><p>去年的多项式展开，我们采用的方法是将(x+1)^2转化为计算(11)^2，得到的结果用于输出。</p><p>那么今年的方法类似，将(a+b+c)^2转化为计算(111)^2用于输出即可，其中第i位上的数表示次数和为i-1的项，具体例子如下：  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">           111</span><br><span class="line">           111</span><br><span class="line">         -----</span><br><span class="line">           111</span><br><span class="line">          111</span><br><span class="line">         111</span><br><span class="line">         -----</span><br><span class="line">         12321</span><br><span class="line">           |</span><br><span class="line">           V</span><br><span class="line">a^2+2ab+3ac+3b^2+2bc+c^2</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css&quot;&gt;&lt;link rel=&quot;stylesheet&quot; class
      
    
    </summary>
    
    
      <category term="题解" scheme="https://www.zhangkai.xin/tags/%E9%A2%98%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>题解 T74815 【[开昕生日愚人题#3]退役的日子】</title>
    <link href="https://www.zhangkai.xin/blog/solution-t74815/"/>
    <id>https://www.zhangkai.xin/blog/solution-t74815/</id>
    <published>2019-05-03T05:13:13.000Z</published>
    <updated>2020-03-03T04:09:16.234Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css"><link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><a href="https://www.luogu.org/problemnew/show/T74815" target="_blank" rel="noopener">LuoguT74815</a>:</p><p>这题是一道打表题，为的是纪念退役。</p><p>对于”20181110”、”20181111”、”20181110-11”和”NOIp”，请输出在NOIp2018时留在分校2楼机房的人。</p><p>对于”20190406”、”20190407”、”20190406-07”和”HAOI”，请输出在HAOI2019时留在分校4楼机房的人。</p><p>对于”ZZFLS”，请输出以上名单中总校的人；对于”XFY”，请输出以上名单中分校的人。（不用考虑张泰玮了。。。）</p><p>最后一条ZZFLS不输出分校人员的原因是ZZFLS OJ注册时分校用XFY做前缀，总校用ZZFLS前缀以区分。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css&quot;&gt;&lt;link rel=&quot;stylesheet&quot; class
      
    
    </summary>
    
    
      <category term="题解" scheme="https://www.zhangkai.xin/tags/%E9%A2%98%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>题解 T74814 【[开昕生日愚人题#2]谁优化了谁】</title>
    <link href="https://www.zhangkai.xin/blog/solution-t74814/"/>
    <id>https://www.zhangkai.xin/blog/solution-t74814/</id>
    <published>2019-05-03T04:12:12.000Z</published>
    <updated>2020-03-03T04:09:21.270Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css"><link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><a href="https://www.luogu.org/problemnew/show/T74814" target="_blank" rel="noopener">LuoguT74814</a>:</p><p>50pts：随机输出1/-1（期望50pts）或者只输出1/-1中的一个</p><p>100pts：这道题的难点在于读入最后一行字符串，然后处理出绝对值最大的一个数m，然后判断m-1是否小于等于n。另外，由于PM不会矩乘优化DP，也不会DP优化矩乘，所以他只会1次优化（使用DP而不用暴力计算）。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css&quot;&gt;&lt;link rel=&quot;stylesheet&quot; class
      
    
    </summary>
    
    
      <category term="题解" scheme="https://www.zhangkai.xin/tags/%E9%A2%98%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>题解 T74813 【[开昕生日愚人题#1]船新的版本】</title>
    <link href="https://www.zhangkai.xin/blog/solution-t74813/"/>
    <id>https://www.zhangkai.xin/blog/solution-t74813/</id>
    <published>2019-05-03T03:11:11.000Z</published>
    <updated>2020-03-03T04:09:24.525Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css"><link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><a href="https://www.luogu.org/problemnew/show/T74813" target="_blank" rel="noopener">LuoguT74813</a>:</p><p>去年这个时候，我出了Minecraft的题，内容是数字ID转英文名称，今年也是一样的。今年的这道在去年的基础上就比较好做了，如果关注新闻就知道这里指的船新版本是被京东云代理的Minecraft:Educational Edition，即《我的世界：教育版》。但是显然PM买不了（因为要学校资格证），所以正确解法是查看Minecraft Wiki（我的世界维基百科）。</p><p>100pts：按Wiki的表打表即可。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css&quot;&gt;&lt;link rel=&quot;stylesheet&quot; class
      
    
    </summary>
    
    
      <category term="题解" scheme="https://www.zhangkai.xin/tags/%E9%A2%98%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>线性基</title>
    <link href="https://www.zhangkai.xin/blog/LinearBasis/"/>
    <id>https://www.zhangkai.xin/blog/LinearBasis/</id>
    <published>2019-03-19T13:56:08.000Z</published>
    <updated>2020-03-07T23:30:52.634Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css"><link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">getlb</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">62</span>;i&gt;=<span class="number">0</span>;i--)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(x&amp;(<span class="number">1l</span>l&lt;&lt;i))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(!p[i])</span><br><span class="line">&#123;</span><br><span class="line">p[i]=x;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">x^=p[i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><blockquote><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://res.zhangkai.xin/pic/license/BY-NC-SA_80x15.png" alt="知识共享许可协议"></a></p><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://res.zhangkai.xin/pic/license/BY-NC-SA_88x31.png" alt="知识共享许可协议"></a></p><p>本作品采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css&quot;&gt;&lt;link rel=&quot;stylesheet&quot; class
      
    
    </summary>
    
    
      <category term="线性基" scheme="https://www.zhangkai.xin/tags/%E7%BA%BF%E6%80%A7%E5%9F%BA/"/>
    
  </entry>
  
  <entry>
    <title>动态规划——洛谷试炼场题目小结</title>
    <link href="https://www.zhangkai.xin/blog/DynamicPlanning/"/>
    <id>https://www.zhangkai.xin/blog/DynamicPlanning/</id>
    <published>2019-03-09T06:30:51.000Z</published>
    <updated>2020-03-07T23:29:44.574Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css"><link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><blockquote><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://res.zhangkai.xin/pic/license/BY-NC-SA_80x15.png" alt="知识共享许可协议"></a></p><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://res.zhangkai.xin/pic/license/BY-NC-SA_88x31.png" alt="知识共享许可协议"></a></p><p>本作品采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css&quot;&gt;&lt;link rel=&quot;stylesheet&quot; class
      
    
    </summary>
    
    
      <category term="动态规划" scheme="https://www.zhangkai.xin/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客使用教程</title>
    <link href="https://www.zhangkai.xin/blog/Blog-Hexo/"/>
    <id>https://www.zhangkai.xin/blog/Blog-Hexo/</id>
    <published>2019-03-02T00:11:18.000Z</published>
    <updated>2020-03-07T23:29:01.570Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css"><link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><ul><li>为什么使用Hexo？</li><li>其实你想使用哪个使用哪个，只不过我个人觉得Hexo比较方便。</li><li>优点：灵活度高、主题丰富、插件丰富、资瓷Markdown和LaTeX。</li><li>缺点：要求有一定的计算机初阶知识水平，源码包含大量外文注释。</li></ul><h1 id="建站"><a href="#建站" class="headerlink" title="建站"></a>建站</h1><h2 id="软件"><a href="#软件" class="headerlink" title="软件"></a>软件</h2><p>必不可少的有</p><ul><li><a href="http://nodejs.cn/download/" target="_blank" rel="noopener">Node.js</a>（可以使用命令<code>node -v</code>查看版本）  </li><li><img src="https://res.zhangkai.xin/pic/Blog-Hexo01.png" alt="Node.js">  </li><li><a href="https://git-scm.com/download/win" target="_blank" rel="noopener">Git</a>（可以使用命令’git version’查看版本）</li><li><img src="https://res.zhangkai.xin/pic/Blog-Hexo02.png" alt="Git"><br>这些是生成博客的必要软件</li></ul><p>可选的有</p><ul><li><a href="https://notepad-plus-plus.org/download/" target="_blank" rel="noopener">Notepad++</a>  </li><li><img src="https://res.zhangkai.xin/pic/Blog-Hexo04.png" alt="Notepad++"><br>这个是为了编写方便使用的软件，不推荐使用Windows自带的记事本和写字板编写文件。如果你手上有其他多功能文本编辑器，当然也可以使用。</li></ul><blockquote><p>注意：如果你选择使用Notepad++，应该在安装Git时将编辑器选择<code>Use Notepad++ as Git&#39;s default editor</code>。<br><img src="https://res.zhangkai.xin/pic/Blog-Hexo03.png" alt="DefaultEditor">  </p></blockquote><h2 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h2><p>新建一个博客目录文件夹，然后右键文件夹中的空白处，选择<code>Git Bash Here</code>。<br><img src="https://res.zhangkai.xin/pic/Blog-Hexo05.png" alt=""></p><p>等到出现以 <code>$</code> 开头的提示表示可以键入命令后，输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm i -g hexo</span><br></pre></td></tr></table></figure><p>即可安装Hexo。</p><blockquote><p>请注意：所有输入命令前的<code>$</code>，只是为了表示是在Git Bash下执行的命令，实际输入时并不需要输入。</p></blockquote><p>安装完后，输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init</span><br></pre></td></tr></table></figure><p>等待初始化文件夹。初始化成功后，你会看到很多文件和文件夹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">└Hexo&lt;-博客目录</span><br><span class="line"> ├.deploy_git&lt;-上传博客的文件</span><br><span class="line"> │└... </span><br><span class="line"> ├node_modules&lt;-插件目录（依赖包）</span><br><span class="line"> │└...</span><br><span class="line"> ├public&lt;-博客生成后的文件</span><br><span class="line"> ├scaffolds&lt;-博客模板文件</span><br><span class="line"> │├draft.md</span><br><span class="line"> │├page.md</span><br><span class="line"> │└post.md</span><br><span class="line"> ├source&lt;-生成博客时的根目录</span><br><span class="line"> │└_posts&lt;-博客目录</span><br><span class="line"> │ └hello-world.md&lt;-初始示例博客文件</span><br><span class="line"> ├themes&lt;-主题文件夹</span><br><span class="line"> │└landscape&lt;-默认主题</span><br><span class="line"> │ └...</span><br><span class="line"> ├.gitignore&lt;-gitignore文件，用于git上传时使用</span><br><span class="line"> ├_config.yml&lt;-博客主配置文件</span><br><span class="line"> ├db.json&lt;-source解析文件</span><br><span class="line"> ├package.json&lt;-项目所需模块项目的配置信息</span><br><span class="line"> └package-lock.json&lt;-项目所需模块项目的配置信息</span><br></pre></td></tr></table></figure><h2 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h2><p>输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><blockquote><p>如果提示不存在此指令，请输入以下指令安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm i hexo-server</span><br></pre></td></tr></table></figure></blockquote><p>然后打开浏览器，输入<code>http://localhost:4000</code>，即可预览博客的样子。</p><p>如果要关闭，按 Ctrl+C 即可关闭。</p><blockquote><p>如果你打开此地址看不到你的博客，存在一种情况是你安装的软件（例如福昕PDF阅读器）占用了你的4000端口，此时应该切换端口，例如5000。此时应该输入下方指令切换。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server -p 5000</span><br></pre></td></tr></table></figure></blockquote><h1 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h1><h2 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><h2 id="传到平台"><a href="#传到平台" class="headerlink" title="传到平台"></a>传到平台</h2><p>下面推荐几个平台</p><ul><li><a href="https://github.com/" target="_blank" rel="noopener">GitHub</a>（强力推荐）<ul><li>优点：平台成立较早，设施完善，有微软收购的支持，全球的开发者均在此</li><li>缺点：主语言为英文，且国内访问较慢。</li></ul></li><li><del><a href="https://coding.net/" target="_blank" rel="noopener">Coding</a></del>（已被腾讯收购，建议直接注册腾讯云开发者平台）<ul><li><del>优点：国内国外访问均快，设施较为完善。</del></li><li><del>缺点：功能限制过大，服务器容易宕机</del></li></ul></li><li><a href="https://dev.tencent.com/" target="_blank" rel="noopener">TencentDev</a><ul><li>优点：腾讯服务器强大，国内国外访问均快</li><li>缺点：腾讯功能限制过大</li></ul></li><li><a href="https://gitee.com/" target="_blank" rel="noopener">Gitee</a><ul><li>优点：与GitHub类似，但国内访问速度快，而且支持GitHub项目直接导入</li><li>缺点：设施不太完善。</li></ul></li></ul><h3 id="提前说明"><a href="#提前说明" class="headerlink" title="提前说明"></a>提前说明</h3><p>在下文中：</p><ul><li>yourname指你注册网站的用户名</li><li>youremail指你注册网站的邮箱</li></ul><h3 id="GitHub"><a href="#GitHub" class="headerlink" title="GitHub"></a>GitHub</h3><p>注册账号，然后创建一个repo，名字为<code>yourname.github.io</code><br>在<code>_config.yml</code>里，编辑末尾的配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: git@github.com:yourname/yourname.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><p>在文件夹下键入命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C <span class="string">"youremail"</span></span><br></pre></td></tr></table></figure><p>然后连敲几下回车，然后打开<code>C:\Users\你电脑的用户名</code>，找到<code>.ssh</code>文件夹，用编辑器打开<code>id_rsa.pub</code>文件，然后复制里面的所有文本。</p><p>在GitHub的Settings里，找到SSH keys，右上角新建一个SSH key，然后在Key那个大框中粘贴你复制的东西，随便起一个名字然后点下方的添加。</p><h3 id="Coding-TencentDev"><a href="#Coding-TencentDev" class="headerlink" title="Coding(TencentDev)"></a>Coding(TencentDev)</h3><p>注册账号，然后创建一个repo，名字为<code>yourname</code><br>在<code>_config.yml</code>里，编辑末尾的配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: git@git.coding.net:yourname/yourname.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><p>在文件夹下键入命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C <span class="string">"youremail"</span></span><br></pre></td></tr></table></figure><p>然后连敲几下回车，然后打开<code>C:\Users\你电脑的用户名</code>，找到<code>.ssh</code>文件夹，用编辑器打开<code>id_rsa.pub</code>文件，然后复制里面的所有文本。</p><p>在网站的个人设置里，找到SSH keys，新建一个SSH key，然后在Key那个大框中粘贴你复制的东西，随便起一个名字然后点下方的添加。</p><h3 id="Gitee"><a href="#Gitee" class="headerlink" title="Gitee"></a>Gitee</h3><p>注册账号，然后创建一个repo，名字为<code>yourname</code><br>在<code>_config.yml</code>里，编辑末尾的配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: git@gitee.com:yourname/yourname.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><p>在文件夹下键入命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C <span class="string">"youremail"</span></span><br></pre></td></tr></table></figure><p>然后连敲几下回车，然后打开<code>C:\Users\你电脑的用户名</code>，找到<code>.ssh</code>文件夹，用编辑器打开<code>id_rsa.pub</code>文件，然后复制里面的所有文本。</p><p>在Gitee的设置里，找到SSH keys，新建一个SSH key，然后在Key那个大框中粘贴你复制的东西，随便起一个名字然后点下方的添加。</p><h3 id="多Git账户"><a href="#多Git账户" class="headerlink" title="多Git账户"></a>多Git账户</h3><p>生成多个key，即在执行命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C <span class="string">"youremail"</span></span><br></pre></td></tr></table></figure><p>后的第一步将名字改为<code>id_rsa-github.pub</code>,<code>id_rsa-coding.pub</code>,<code>id_rsa-gitee.pub</code>，然后在<code>.ssh</code>文件夹下新建一个<code>config</code>文件。在文件内粘贴并修改以下内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># 配置github.com</span><br><span class="line">Host github.com                 </span><br><span class="line">    HostName github.com         </span><br><span class="line">    IdentityFile ~\\.ssh\\id_rsa-github</span><br><span class="line">    PreferredAuthentications publickey</span><br><span class="line">    User yourname-github</span><br><span class="line"></span><br><span class="line"># 配置git.coding.net</span><br><span class="line">Host git.coding.net             </span><br><span class="line">    HostName git.coding.net     </span><br><span class="line">    IdentityFile ~\\.ssh\\id_rsa-coding</span><br><span class="line">    PreferredAuthentications publickey</span><br><span class="line">    User yourname-coding</span><br><span class="line"></span><br><span class="line"># 配置gitee.com                 </span><br><span class="line">Host gitee.com                  </span><br><span class="line">    HostName gitee.com</span><br><span class="line">    IdentityFile ~\\.ssh\\id_rsa-gitee</span><br><span class="line">    PreferredAuthentications publickey</span><br><span class="line">    User yourname-gitee</span><br></pre></td></tr></table></figure><p>即可</p><h2 id="三步部署"><a href="#三步部署" class="headerlink" title="三步部署"></a>三步部署</h2><p>按照上述配置好后，每次修改博客就只用执行下面三行指令就行了</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean</span><br><span class="line">$ hexo generate</span><br><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><blockquote><p>第一次执行之前需要执行下方两行指令设置个人信息</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name <span class="string">"yourname"</span></span><br><span class="line">$ git config --global user.email <span class="string">"youremail"</span></span><br></pre></td></tr></table></figure></blockquote><blockquote><p>第一次执行时会询问你是否使用ssh（此时在弹出的框中输入yes即可）之类的操作<br>从第二次起就真的只用这三行了。</p></blockquote><h2 id="访问你的博客"><a href="#访问你的博客" class="headerlink" title="访问你的博客"></a>访问你的博客</h2><h3 id="GitHub-1"><a href="#GitHub-1" class="headerlink" title="GitHub"></a>GitHub</h3><p>在repo的Settings里向下翻到GitHub Pages，将 <code>None</code> 改为 <code>master branch</code> 。<br>然后就可以访问<a href="https://yourname.github.io/" target="_blank" rel="noopener">https://yourname.github.io/</a></p><h3 id="Coding-TencentDev-1"><a href="#Coding-TencentDev-1" class="headerlink" title="Coding(TencentDev)"></a>Coding(TencentDev)</h3><p>在repo的代码下拉菜单点Pages服务，勾选<code>我已阅读《Coding Pages 服务声明》</code>，然后点击<code>一键开启 Coding Pages</code>。<br>然后就可以访问<a href="https://yourname.coding.me/" target="_blank" rel="noopener">https://yourname.coding.me/</a>  </p><h3 id="Gitee-1"><a href="#Gitee-1" class="headerlink" title="Gitee"></a>Gitee</h3><p>在repo的服务下拉菜单点Gitee Pages，部署分支选择<code>master</code>，然后点击<code>启动</code>。<br>然后就可以访问<a href="https://yourname.gitee.io/" target="_blank" rel="noopener">https://yourname.gitee.io/</a>  </p><h1 id="设置博客"><a href="#设置博客" class="headerlink" title="设置博客"></a>设置博客</h1><h2 id="博客基本配置"><a href="#博客基本配置" class="headerlink" title="博客基本配置"></a>博客基本配置</h2><p>你可以参照<a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">Hexo官方文档</a>配置，也可以参照以下信息配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># Site</span><br><span class="line">title: 标题</span><br><span class="line">subtitle: 副标题</span><br><span class="line">description: 描述</span><br><span class="line">keywords: 关键词</span><br><span class="line">author: 作者</span><br><span class="line">language: zh-CN</span><br><span class="line">timezone: Asia/Shanghai</span><br><span class="line"></span><br><span class="line"># URL</span><br><span class="line">## If your site is put in a subdirectory, set url as &apos;http://yoursite.com/child&apos; and root as &apos;/child/&apos;</span><br><span class="line">url: 访问你博客的地址</span><br><span class="line">root: /</span><br><span class="line">permalink: :year/:month/:day/:title/</span><br><span class="line">permalink_defaults:</span><br></pre></td></tr></table></figure><h2 id="写博客"><a href="#写博客" class="headerlink" title="写博客"></a>写博客</h2><p>你需要使用Markdown格式编辑博客  </p><p>你可以使用指令创建一篇写好基本信息的博客然后修改</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new 博客标题</span><br></pre></td></tr></table></figure><p>也可以在_post文件夹下新建一个<code>.md</code>文件，并在开头写上</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 文章标题</span><br><span class="line">date: 20XX-XX-XX XX:XX:XX</span><br><span class="line">tags: </span><br><span class="line">  - 标签</span><br><span class="line">categories: </span><br><span class="line">  - 分类</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>然后在下面写正文部分。</p><blockquote><p>当以上文字存在部分符号不合法时会出现错误，建议加上<code>&quot;&quot;</code>号分割前后，例如：<code>title: &quot;标题[1]&quot;</code><br>如果出现渲染错误，比如上面的内容出现在了文章开头而不是被隐藏，请检查文章的格式是否为Windows(CR LF)；<br>如果出现中文乱码，比如出现了 <code>˖Ԗ}ёڷޯ</code> 或 <code>鎵嬫寔涓ゆ妸妫嶆枻閾?</code> 这种乱码，请检查文章的编码是否为UTF-8；<br><img src="https://res.zhangkai.xin/pic/Blog-Hexo06.png" alt=""></p></blockquote><h2 id="主题"><a href="#主题" class="headerlink" title="主题"></a>主题</h2><p>有很多非常好的主题，由于主题数量庞大且编写风格不一，所以无法在这里为每位读者所喜爱的主题写建站教程。<br>这里只介绍Vexo即我使用的主题的相关配置。</p><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>大部分主题可以在GitHub上找到，找到后通过</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/作者/hexo-theme-主题.git themes/主题</span><br></pre></td></tr></table></figure><p>这条指令下载到主题文件夹中，然后在博客目录下的<code>_config.yml</code>中写上</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: 主题</span><br></pre></td></tr></table></figure><h3 id="Vexo"><a href="#Vexo" class="headerlink" title="Vexo"></a>Vexo</h3><p>作者：<a href="https://github.com/yanm1ng" target="_blank" rel="noopener">yanm1ng</a><br>主题地址：<a href="https://github.com/yanm1ng/hexo-theme-vexo" target="_blank" rel="noopener">hexo-theme-vexo</a></p><h4 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h4><p>可以通过</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/yanm1ng/hexo-theme-vexo.git themes/vexo</span><br><span class="line">$ cp -R themes/vexo/_source/* <span class="built_in">source</span>/</span><br></pre></td></tr></table></figure><p>同时修改主目录下的<code>_config.yml</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: vexo</span><br></pre></td></tr></table></figure><p>完成初步的安装</p><h4 id="文章"><a href="#文章" class="headerlink" title="文章"></a>文章</h4><p>事实上，在每篇文章开头的<em>front-matter</em>都这么写。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 标题</span><br><span class="line">date: 20XX-XX-XX XX:XX:XX</span><br><span class="line">banner: 图片.扩展名</span><br><span class="line">tags:</span><br><span class="line"> - 标签1</span><br><span class="line"> - 标签2</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p>在主题的<code>_config.yml</code>里，有这些东西，可以看我的注释配置你的</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">author: 作者</span><br><span class="line">description: 描述</span><br><span class="line">keyword: 关键词</span><br><span class="line">favicon:      #图标，默认没有</span><br><span class="line"></span><br><span class="line">excerpt_link: Read more  #查看更多的提示文字</span><br><span class="line"></span><br><span class="line">menu:</span><br><span class="line"> 主页: /</span><br><span class="line"> 标签: /tags/</span><br><span class="line"> 归档: /archives/</span><br><span class="line"> 项目: /project/</span><br><span class="line"> 关于: /about/</span><br></pre></td></tr></table></figure><p>然后翻到最下面</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">about: </span><br><span class="line">  banner: 图片.扩展名</span><br><span class="line">  avatar: 头像地址</span><br><span class="line">  description: 描述</span><br><span class="line">  weibo_username: 微博用户名</span><br><span class="line">  twitter_username: Twitter用户名</span><br><span class="line">  github_username: GitHub用户名</span><br><span class="line">  zhihu_username: 知乎用户名</span><br><span class="line">  douban_username: 豆瓣用户名</span><br><span class="line">  linkedin_username: 领英用户名</span><br><span class="line"># 没有的话不填就行了</span><br></pre></td></tr></table></figure><h4 id="自定义图片"><a href="#自定义图片" class="headerlink" title="自定义图片"></a>自定义图片</h4><p>打开主题下的<code>/source/css/images</code>文件夹，<strong>替换</strong> <code>logo.png</code> 、 <code>alipay.jpg</code> 和 ‘wechat.jpg’ 。</p><h1 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h1><h2 id="评论系统"><a href="#评论系统" class="headerlink" title="评论系统"></a>评论系统</h2><p>有很多很优秀的评论插件，例如Gitment、Gitalk、Valine、Disqus、Uyan等。<br>由于本人使用的是Gitment，所以只会介绍Gitment。。。  </p><blockquote><p>建议直接使用主题所附带的评论系统，这样一般是兼容页面的既好用又好看。</p></blockquote><h3 id="Vexo下的Gitment"><a href="#Vexo下的Gitment" class="headerlink" title="Vexo下的Gitment"></a>Vexo下的Gitment</h3><blockquote><p>Gitment利用GitHub上repo中的Issues功能完成评论存储的功能。<br>注意，Gitment只支持GitHub上的repo，如果你要利用Coding或者Gitee的功能，可以尝试DIY。</p></blockquote><p>请<a href="https://github.com/settings/applications/new" target="_blank" rel="noopener">点这里</a>打开GitHub的OAuth应用创建页面，输入博客名字、主页地址、描述和调用地址。<strong>请注意：主页地址和调用地址都要填你的博客的地址。</strong><br><img src="https://res.zhangkai.xin/pic/Blog-Hexo07.png" alt=""></p><p>创建完后，复制Client ID和Client Secret的信息。</p><p>请点开Vexo主题下的`_config.yml’，将下面对应的行修改成这样</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">comment: gitment</span><br></pre></td></tr></table></figure><p>然后在下方对应的部分</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># gitment config</span><br><span class="line">gitment_owner: yourname</span><br><span class="line">gitment_repo: 博客地址</span><br><span class="line">gitment_oauth_id: 复制的Client ID</span><br><span class="line">gitment_oauth_secret: 复制的Client Secret</span><br></pre></td></tr></table></figure><p>即可完成配置</p><blockquote><p>请注意，每篇博客都需要博主手动初始化，否则会显示Error。<br><img src="https://res.zhangkai.xin/pic/Blog-Hexo08.png" alt=""><br><img src="https://res.zhangkai.xin/pic/Blog-Hexo09.png" alt="">  </p></blockquote><h2 id="置顶操作"><a href="#置顶操作" class="headerlink" title="置顶操作"></a>置顶操作</h2><p>打开博客目录下的<code>.\node_modules\hexo-generator-index\lib</code>文件夹，将<code>generator.js</code>文件内容替换为下面的代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"><span class="keyword">var</span> pagination = <span class="built_in">require</span>(<span class="string">'hexo-pagination'</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">locals</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> config = <span class="keyword">this</span>.config;</span><br><span class="line">  <span class="keyword">var</span> posts = locals.posts;</span><br><span class="line">    posts.data = posts.data.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(a.top &amp;&amp; b.top) &#123; <span class="comment">// 两篇文章top都有定义</span></span><br><span class="line">            <span class="keyword">if</span>(a.top == b.top) <span class="keyword">return</span> b.date - a.date; <span class="comment">// 若top值一样则按照文章日期降序排</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">return</span> b.top - a.top; <span class="comment">// 否则按照top值降序排</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(a.top &amp;&amp; !b.top) &#123; <span class="comment">// 以下是只有一篇文章top有定义，那么将有top的排在前面（这里用异或操作居然不行233）</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(!a.top &amp;&amp; b.top) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> b.date - a.date; <span class="comment">// 都没定义按照文章日期降序排</span></span><br><span class="line">    &#125;);</span><br><span class="line">  <span class="keyword">var</span> paginationDir = config.pagination_dir || <span class="string">'page'</span>;</span><br><span class="line">  <span class="keyword">return</span> pagination(<span class="string">''</span>, posts, &#123;</span><br><span class="line">    perPage: config.index_generator.per_page,</span><br><span class="line">    layout: [<span class="string">'index'</span>, <span class="string">'archive'</span>],</span><br><span class="line">    format: paginationDir + <span class="string">'/%d/'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">      __index: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>在博客开头的部分定义top值</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">top: 数值</span><br><span class="line">---</span><br></pre></td></tr></table></figure><blockquote><p>说明：top没填时默认为0，置顶顺序为top值降序排列，top相等时按日期排序。</p></blockquote><h1 id="自动部署"><a href="#自动部署" class="headerlink" title="自动部署"></a>自动部署</h1><p>自动部署需要一个网站——Travis CI，这个网站分为 <a href="https://travis-ci.org/" target="_blank" rel="noopener">PublicRepo版</a> 和 <a href="https://travis-ci.com/" target="_blank" rel="noopener">PrivateRepo版</a>，但是只支持GitHub上的项目。  </p><blockquote><p>对于自动部署博客，我的做法需要在上传到GitHub的文件里写上你Github的密码，因此强烈建议各位新建一个Private项目。</p></blockquote><p>我们新一个项目（当然也可以在原repo上新建一个分支），然后<a href="https://github.com/settings/tokens" target="_blank" rel="noopener">点这里</a>生成一个AccessToken（建议把除了delete_repo以外的权限全部开启），然后把出来的一串值复制。</p><p>打开Travis CI，点开你新建的项目，在Environment Variables里，在Value处粘贴那串值，名字随意，然后点击Add。<br><img src="https://res.zhangkai.xin/pic/Blog-Hexo10.png" alt=""></p><p>返回Hexo的文件目录，执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git init</span><br><span class="line">$ git remote add origin https://github.com/yourname/repo的名字.git</span><br></pre></td></tr></table></figure><p>使用命令行新建一个<code>.travis.yml</code>文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd.&gt;.travis.yml</span><br></pre></td></tr></table></figure><p><img src="https://res.zhangkai.xin/pic/Blog-Hexo11.png" alt=""></p><p>粘贴如下内容并修改后保存</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">language: node_js</span><br><span class="line">node_js: stable</span><br><span class="line"></span><br><span class="line"># S: Build Lifecycle</span><br><span class="line">install:</span><br><span class="line">  - npm install</span><br><span class="line"></span><br><span class="line">#before_script:</span><br><span class="line"> # - npm install -g gulp</span><br><span class="line"></span><br><span class="line">script:</span><br><span class="line">  - hexo g</span><br><span class="line"></span><br><span class="line">after_script:</span><br><span class="line">  - cd ./public</span><br><span class="line">  - git init</span><br><span class="line">  - git config user.name &quot;yourname&quot;</span><br><span class="line">  - git config user.email &quot;youremail&quot;</span><br><span class="line">  - git add .</span><br><span class="line">  - git commit -m &quot;Site Updated&quot;</span><br><span class="line">  - git push --force --quiet &quot;https://$&#123;GH_TOKEN&#125;@$&#123;GH_REF&#125;&quot; master:master</span><br><span class="line"># E: Build LifeCycle</span><br><span class="line"></span><br><span class="line">branches:</span><br><span class="line">  only:</span><br><span class="line">    - master</span><br><span class="line">env:</span><br><span class="line"> global:</span><br><span class="line">   - GH_REF: github.com/yourname/repo的名字.git</span><br><span class="line">   - GH_TOKEN: yourname:GitHub密码</span><br></pre></td></tr></table></figure><p>这样处理好后执行以下命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git add .</span><br><span class="line">$ git commit -m <span class="string">"Site Updated"</span></span><br><span class="line">$ git push origin master</span><br></pre></td></tr></table></figure><p>当显示完成时，打开Travis，如果显示build passing，则说明正常（如果网站还未更新、显示build failing等，可以检查下配置）。</p><blockquote><p>状态：<br><img src="https://res.zhangkai.xin/pic/passing.svg" alt="passing"><br><img src="https://res.zhangkai.xin/pic/failing.svg" alt="failing"><br><img src="https://res.zhangkai.xin/pic/error.svg" alt="error"><br><img src="https://res.zhangkai.xin/pic/unknown.svg" alt="unknown"></p></blockquote><p>这样就配置好了。</p><h1 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h1><p>在安装时如果没有选中notepad++，也可以在后来执行以下命令改为notepad++</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global core.editor notepad++</span><br></pre></td></tr></table></figure><p>hexo的很多命令都可以简写<br>比如</p><ul><li><code>hexo server</code>        -&gt;    <code>hexo s</code></li><li><code>hexo generate</code>    -&gt;    <code>hexo g</code></li><li><code>hexo deploy</code>        -&gt;    <code>hexo d</code></li></ul><p>但是由于c开头的指令不止一个，所以clean无法简写为c。</p><p>使用Gitment时如果想使用Coding、Gitee等地方的Pages，可以考虑只使用GitHub的repo当一个评论仓库，就可以利用其它平台的Pages了。</p><p>自动部署系统Travis CI虽然只支持GitHub，但是我们可以只利用GitHub作源码仓库，把Pages的仓库利用其它平台存储，做法是修改<code>.travis.yml</code>中的最后的git指令。</p><p>执行时如果出现错误：fatal: remote origin already exists，则执行以下语句：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git remote rm origin</span><br></pre></td></tr></table></figure><p>再执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git remote add origin https://github.com/yourname/repo的名字.git</span><br></pre></td></tr></table></figure><p>如果出现错误failed to push som refs to…….，则执行以下语句，先把远程服务器github上面的文件拉先来，再push 上去：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git pull origin master</span><br></pre></td></tr></table></figure><p>npm切换为淘宝源</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br><span class="line">$ npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure><hr><blockquote><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://res.zhangkai.xin/pic/license/BY-NC-SA_80x15.png" alt="知识共享许可协议"></a></p><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://res.zhangkai.xin/pic/license/BY-NC-SA_88x31.png" alt="知识共享许可协议"></a></p><p>本作品采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css&quot;&gt;&lt;link rel=&quot;stylesheet&quot; class
      
    
    </summary>
    
    
      <category term="Hexo博客" scheme="https://www.zhangkai.xin/tags/Hexo%E5%8D%9A%E5%AE%A2/"/>
    
  </entry>
  
  <entry>
    <title>【Python入门】05 咕咕咕</title>
    <link href="https://www.zhangkai.xin/blog/Python-05/"/>
    <id>https://www.zhangkai.xin/blog/Python-05/</id>
    <published>2019-03-01T07:16:24.000Z</published>
    <updated>2020-03-07T23:31:19.326Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css"><link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>咕咕咕！！！</p><p>由于最近要换笔记本，正在清理旧电脑的所有软件，Python当然被我清掉了（毕竟现在我用的还少，需要用会上在线IDE），为了保证读者的体验，所以只能暂时咕下去了，大约三月中旬就好了。。。</p><hr><blockquote><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://res.zhangkai.xin/pic/license/BY-NC-SA_80x15.png" alt="知识共享许可协议"></a></p><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://res.zhangkai.xin/pic/license/BY-NC-SA_88x31.png" alt="知识共享许可协议"></a></p><p>本作品采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css&quot;&gt;&lt;link rel=&quot;stylesheet&quot; class
      
    
    </summary>
    
    
      <category term="Python入门" scheme="https://www.zhangkai.xin/tags/Python%E5%85%A5%E9%97%A8/"/>
    
  </entry>
  
  <entry>
    <title>最小表示法/最大表示法</title>
    <link href="https://www.zhangkai.xin/blog/string-MRepresentation/"/>
    <id>https://www.zhangkai.xin/blog/string-MRepresentation/</id>
    <published>2019-02-15T07:43:43.000Z</published>
    <updated>2020-03-07T23:33:14.791Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css"><link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>我们可以求出最小/最大开始的位置然后输出。</p><p>代码如下：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getMin</span><span class="params">(<span class="keyword">char</span> *s)</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line"><span class="keyword">int</span> i=<span class="number">1</span>,j=<span class="number">2</span>,k=<span class="number">0</span>; </span><br><span class="line"><span class="keyword">int</span> len=<span class="built_in">strlen</span>(s+<span class="number">1</span>);</span><br><span class="line"><span class="keyword">while</span>(i&lt;=len&amp;&amp;j&lt;=len&amp;&amp;k&lt;len)</span><br><span class="line">&#123;  </span><br><span class="line"><span class="keyword">int</span> t=s[(i+k<span class="number">-1</span>)%len+<span class="number">1</span>]-s[(j+k<span class="number">-1</span>)%len+<span class="number">1</span>];  </span><br><span class="line"><span class="keyword">if</span>(!t)k++;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;  </span><br><span class="line"><span class="keyword">if</span>(t&gt;<span class="number">0</span>)i=i+k+<span class="number">1</span>;  </span><br><span class="line"><span class="keyword">else</span> j=j+k+<span class="number">1</span>;  </span><br><span class="line"><span class="keyword">if</span>(i==j)j++;  </span><br><span class="line">k=<span class="number">0</span>;  </span><br><span class="line">&#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="keyword">return</span> min(i,j);  </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getMax</span><span class="params">(<span class="keyword">char</span> *s)</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line"><span class="keyword">int</span> i=<span class="number">1</span>,j=<span class="number">2</span>,k=<span class="number">0</span>; </span><br><span class="line"><span class="keyword">int</span> len=<span class="built_in">strlen</span>(s+<span class="number">1</span>);</span><br><span class="line"><span class="keyword">while</span>(i&lt;=len&amp;&amp;j&lt;=len&amp;&amp;k&lt;len)</span><br><span class="line">&#123;  </span><br><span class="line"><span class="keyword">int</span> t=s[(i+k<span class="number">-1</span>)%len+<span class="number">1</span>]-s[(j+k<span class="number">-1</span>)%len+<span class="number">1</span>];  </span><br><span class="line"><span class="keyword">if</span>(!t)k++;  </span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;  </span><br><span class="line"><span class="keyword">if</span>(t&gt;<span class="number">0</span>)j=j+k+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> i=i+k+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(i==j)j++;</span><br><span class="line">k=<span class="number">0</span>;</span><br><span class="line">&#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="keyword">return</span> min(i,j);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>下面是一份0下标开始的版本</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getMin</span><span class="params">(<span class="keyword">char</span> *s)</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line"><span class="keyword">int</span> i=<span class="number">0</span>,j=<span class="number">1</span>,k=<span class="number">0</span>; </span><br><span class="line"><span class="keyword">int</span> len=<span class="built_in">strlen</span>(s);</span><br><span class="line"><span class="keyword">while</span>(i&lt;len&amp;&amp;j&lt;len&amp;&amp;k&lt;len)</span><br><span class="line">&#123;  </span><br><span class="line"><span class="keyword">int</span> t=s[(i+k)%len]-s[(j+k)%len];  </span><br><span class="line"><span class="keyword">if</span>(!t)k++;  </span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;  </span><br><span class="line"><span class="keyword">if</span>(t&gt;<span class="number">0</span>)i=i+k+<span class="number">1</span>;  </span><br><span class="line"><span class="keyword">else</span> j=j+k+<span class="number">1</span>;  </span><br><span class="line"><span class="keyword">if</span>(i==j)j++;  </span><br><span class="line">k=<span class="number">0</span>;  </span><br><span class="line">&#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="keyword">return</span> min(i,j);  </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getMax</span><span class="params">(<span class="keyword">char</span> *s)</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line"><span class="keyword">int</span> i=<span class="number">0</span>,j=<span class="number">1</span>,k=<span class="number">0</span>; </span><br><span class="line"><span class="keyword">int</span> len=<span class="built_in">strlen</span>(s);</span><br><span class="line"><span class="keyword">while</span>(i&lt;len&amp;&amp;j&lt;len&amp;&amp;k&lt;len)</span><br><span class="line">&#123;  </span><br><span class="line"><span class="keyword">int</span> t=s[(i+k)%len]-s[(j+k)%len];  </span><br><span class="line"><span class="keyword">if</span>(!t)k++;  </span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;  </span><br><span class="line"><span class="keyword">if</span>(t&gt;<span class="number">0</span>)j=j+k+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> i=i+k+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(i==j)j++;</span><br><span class="line">k=<span class="number">0</span>;</span><br><span class="line">&#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="keyword">return</span> min(i,j);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><blockquote><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://res.zhangkai.xin/pic/license/BY-NC-SA_80x15.png" alt="知识共享许可协议"></a></p><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://res.zhangkai.xin/pic/license/BY-NC-SA_88x31.png" alt="知识共享许可协议"></a></p><p>本作品采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css&quot;&gt;&lt;link rel=&quot;stylesheet&quot; class
      
    
    </summary>
    
    
      <category term="字符串" scheme="https://www.zhangkai.xin/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
    
  </entry>
  
  <entry>
    <title>回文自动机</title>
    <link href="https://www.zhangkai.xin/blog/string-PalindromicTree/"/>
    <id>https://www.zhangkai.xin/blog/string-PalindromicTree/</id>
    <published>2019-02-15T07:39:19.000Z</published>
    <updated>2020-03-07T23:33:17.421Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css"><link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>类似AC自动机的一种回文串匹配自动机，也就是一棵字符树。准确的说，是两颗字符树，0号表示回文串长度为偶数的树，1号表示回文串长度为奇数的树。</p><p>洛谷上的模板题（<a href="https://www.luogu.org/problemnew/show/P3649" target="_blank" rel="noopener">P3649 【APIO2014】回文串</a>）：<br>求的其实就是$max(cnt[i] \times len[i])$</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">char</span> s[<span class="number">300005</span>];</span><br><span class="line"><span class="keyword">int</span> fail[<span class="number">300005</span>],ch[<span class="number">300005</span>][<span class="number">26</span>],len[<span class="number">300005</span>],num[<span class="number">300005</span>],cnt[<span class="number">300005</span>],tot,last;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">newpoint</span><span class="params">(<span class="keyword">int</span> l)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">++tot;</span><br><span class="line"><span class="built_in">memset</span>(ch[tot],<span class="number">0</span>,<span class="keyword">sizeof</span>(ch[tot]));</span><br><span class="line">len[tot]=l;</span><br><span class="line">cnt[tot]=<span class="number">0</span>;</span><br><span class="line">num[tot]=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">return</span> tot;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">tot=<span class="number">-1</span>;</span><br><span class="line">last=<span class="number">0</span>;</span><br><span class="line">newpoint(<span class="number">0</span>);</span><br><span class="line">newpoint(<span class="number">-1</span>);</span><br><span class="line">s[<span class="number">0</span>]=<span class="number">-1</span>;</span><br><span class="line">fail[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getfail</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> l)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">while</span>(s[l-len[x]<span class="number">-1</span>]!=s[l])</span><br><span class="line">x=fail[x];</span><br><span class="line"><span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">count</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=tot;i&gt;=<span class="number">0</span>;i--)</span><br><span class="line">cnt[fail[i]]+=cnt[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">char</span> *s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">init();</span><br><span class="line"><span class="keyword">int</span> l=<span class="built_in">strlen</span>(s+<span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=l;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> cur=getfail(last,i);</span><br><span class="line"><span class="keyword">if</span>(!ch[cur][s[i]-<span class="string">'a'</span>])</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> now=newpoint(len[cur]+<span class="number">2</span>);</span><br><span class="line">fail[now]=ch[getfail(fail[cur],i)][s[i]-<span class="string">'a'</span>];</span><br><span class="line">ch[cur][s[i]-<span class="string">'a'</span>]=now;</span><br><span class="line">num[now]=num[fail[now]]+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">last=ch[cur][s[i]-<span class="string">'a'</span>];</span><br><span class="line">cnt[last]++;</span><br><span class="line">&#125;</span><br><span class="line">count();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%s"</span>,s+<span class="number">1</span>);</span><br><span class="line">build(s);</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> ans=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=tot;i++)</span><br><span class="line">ans=max(ans,(<span class="keyword">long</span> <span class="keyword">long</span>)cnt[i]*len[i]);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>求本质不同的回文子串个数（HihoCoder-1602、<a href="http://acm.hdu.edu.cn/showproblem.php?pid=3948" target="_blank" rel="noopener">HDU3948</a>）：<br>回文自动机上的每个点都是一个本质不同的回文子串，所以就是求回文自动机总点的个数，同时注意刚开始有两个点0和1不是串上的点，所以统计答案时去掉这两个点的影响。HDU的题要注意从头再来时的清空。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// #include&lt;bits/stdc++.h&gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">char</span> s[<span class="number">300005</span>];</span><br><span class="line"><span class="keyword">int</span> fail[<span class="number">300005</span>],ch[<span class="number">300005</span>][<span class="number">26</span>],len[<span class="number">300005</span>],num[<span class="number">300005</span>],cnt[<span class="number">300005</span>],tot,last;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">newpoint</span><span class="params">(<span class="keyword">int</span> l)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">++tot;</span><br><span class="line"><span class="built_in">memset</span>(ch[tot],<span class="number">0</span>,<span class="keyword">sizeof</span>(ch[tot]));</span><br><span class="line">len[tot]=l;</span><br><span class="line">cnt[tot]=<span class="number">0</span>;</span><br><span class="line">num[tot]=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">return</span> tot;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">tot=<span class="number">-1</span>;</span><br><span class="line">last=<span class="number">0</span>;</span><br><span class="line">newpoint(<span class="number">0</span>);</span><br><span class="line">newpoint(<span class="number">-1</span>);</span><br><span class="line">s[<span class="number">0</span>]=<span class="number">-1</span>;</span><br><span class="line">fail[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getfail</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> l)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">while</span>(s[l-len[x]<span class="number">-1</span>]!=s[l])</span><br><span class="line">x=fail[x];</span><br><span class="line"><span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">count</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=tot;i&gt;=<span class="number">0</span>;i--)</span><br><span class="line">cnt[fail[i]]+=cnt[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">char</span> *s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">init();</span><br><span class="line"><span class="keyword">int</span> l=<span class="built_in">strlen</span>(s+<span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=l;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> cur=getfail(last,i);</span><br><span class="line"><span class="keyword">if</span>(!ch[cur][s[i]-<span class="string">'a'</span>])</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> now=newpoint(len[cur]+<span class="number">2</span>);</span><br><span class="line">fail[now]=ch[getfail(fail[cur],i)][s[i]-<span class="string">'a'</span>];</span><br><span class="line">ch[cur][s[i]-<span class="string">'a'</span>]=now;</span><br><span class="line">num[now]=num[fail[now]]+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">last=ch[cur][s[i]-<span class="string">'a'</span>];</span><br><span class="line">cnt[last]++;</span><br><span class="line">&#125;</span><br><span class="line">count();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> T;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=T;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%s"</span>,s+<span class="number">1</span>);</span><br><span class="line">build(s);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Case #%d: %d\n"</span>,i,tot<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>统计所有回文串的个数（HihoCoder-1589）：<br>即cnt之和</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">char</span> s[<span class="number">800005</span>];</span><br><span class="line"><span class="keyword">int</span> fail[<span class="number">800005</span>],ch[<span class="number">800005</span>][<span class="number">26</span>],len[<span class="number">800005</span>],num[<span class="number">800005</span>],cnt[<span class="number">800005</span>],tot,last;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">newpoint</span><span class="params">(<span class="keyword">int</span> l)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">++tot;</span><br><span class="line"><span class="built_in">memset</span>(ch[tot],<span class="number">0</span>,<span class="keyword">sizeof</span>(ch[tot]));</span><br><span class="line">len[tot]=l;</span><br><span class="line">cnt[tot]=<span class="number">0</span>;</span><br><span class="line">num[tot]=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">return</span> tot;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">tot=<span class="number">-1</span>;</span><br><span class="line">last=<span class="number">0</span>;</span><br><span class="line">newpoint(<span class="number">0</span>);</span><br><span class="line">newpoint(<span class="number">-1</span>);</span><br><span class="line">s[<span class="number">0</span>]=<span class="number">-1</span>;</span><br><span class="line">fail[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getfail</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> l)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">while</span>(s[l-len[x]<span class="number">-1</span>]!=s[l])</span><br><span class="line">x=fail[x];</span><br><span class="line"><span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">count</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=tot;i&gt;=<span class="number">0</span>;i--)</span><br><span class="line">cnt[fail[i]]+=cnt[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">char</span> *s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">init();</span><br><span class="line"><span class="keyword">int</span> l=<span class="built_in">strlen</span>(s+<span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=l;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> cur=getfail(last,i);</span><br><span class="line"><span class="keyword">if</span>(!ch[cur][s[i]-<span class="string">'a'</span>])</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> now=newpoint(len[cur]+<span class="number">2</span>);</span><br><span class="line">fail[now]=ch[getfail(fail[cur],i)][s[i]-<span class="string">'a'</span>];</span><br><span class="line">ch[cur][s[i]-<span class="string">'a'</span>]=now;</span><br><span class="line">num[now]=num[fail[now]]+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">last=ch[cur][s[i]-<span class="string">'a'</span>];</span><br><span class="line">cnt[last]++;</span><br><span class="line">&#125;</span><br><span class="line">count();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%s"</span>,s+<span class="number">1</span>);</span><br><span class="line">build(s);</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> ans=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=tot;i++)</span><br><span class="line">ans+=cnt[i];</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><blockquote><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://res.zhangkai.xin/pic/license/BY-NC-SA_80x15.png" alt="知识共享许可协议"></a></p><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://res.zhangkai.xin/pic/license/BY-NC-SA_88x31.png" alt="知识共享许可协议"></a></p><p>本作品采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css&quot;&gt;&lt;link rel=&quot;stylesheet&quot; class
      
    
    </summary>
    
    
      <category term="字符串" scheme="https://www.zhangkai.xin/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
    
  </entry>
  
  <entry>
    <title>【Python入门】04 Python基础3——字符串和编码</title>
    <link href="https://www.zhangkai.xin/blog/Python-04/"/>
    <id>https://www.zhangkai.xin/blog/Python-04/</id>
    <published>2019-02-15T00:24:00.000Z</published>
    <updated>2020-03-07T23:31:16.260Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css"><link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>在上一期的末尾我们说到一段代码</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line">n = <span class="number">123</span></span><br><span class="line">f = <span class="number">456.789</span></span><br><span class="line">s1 = <span class="string">'Hello, world'</span></span><br><span class="line">s2 = <span class="string">'Hello, \'Adam\''</span></span><br><span class="line">s3 = <span class="string">r'Hello, "Bart"'</span></span><br><span class="line">s4 = <span class="string">r'''Hello,</span></span><br><span class="line"><span class="string">Lisa!'''</span></span><br></pre></td></tr></table></figure><p>我们看到有一行注释<code># -*- coding: utf-8 -*-</code></p><p>这个表示编码采用UTF-8编码，那么什么是字符编码呢？</p><h1 id="字符编码"><a href="#字符编码" class="headerlink" title="字符编码"></a>字符编码</h1><p>我们已经知道字符串也是一种数据类型，但是，字符串还存在一个特殊的编码问题。</p><p>计算机在设计时以8比特（bit）作为一个字节（byte），所以一个字节最大表示整数为255（$11111111_{(2)}=255_{(10)}$），如果要表示更大的整数，需要用更多的字节，比如两个字节最大为65535,4个字节最大为4294967295。<br>由于计算机是美国人发明的，最早只有127个字符被编码写入计算机，也就是大小写英文字母、数字和一些符号，它们被称为<code>ASCII</code>编码，比如大写字母A是65，小写字母z是122。<br>但是明显中文一个字节肯定不够用，起码也要两个字节，而且不能与ASCII编码冲突，于是中国便制定了<code>GB2312</code>编码，用来把中文编进去。<br>你可以想到的是，全世界有上百种语言，日本把日文编到<code>Shift-JIS</code>编码里，韩国把韩文编到<code>EUC-KR</code>编码里，甚至中文的繁体字都采用另一种编码<code>Big5</code>。各国有各国的标准，就会不可避免的产生冲突，结果就是，在多语言的文本中，会出现乱码。</p><p><img src="https://res.zhangkai.xin/pic/Python04-01.png" alt="字符编码的问题真是令人头疼！"></p><p>因此，<code>Unicode</code>应运而生，Unicode把所有语言统一到一套编码，这样就不会再出现乱码问题了。<br>Unicode标准不断地在发展，最常用地是用两个字节表示一个字符（偏僻字符需要4个字节）。现代的操作系统和大多数编程语言都直接支持Unicode。<br>现在，捋一捋ASCII和Unicode的编码区别：ASCII编码是一个字节，Unicode通常是两个字节。</p><p>例如：  </p><ul><li>字母<code>A</code>用ASCII编码是十进制<code>65</code>，二进制<code>01000001</code>；  </li><li>字符<code>0</code>用ASCII编码是十进制<code>48</code>，二进制<code>00110000</code>，注意这里的<code>0</code>是字符<code>&#39;0&#39;</code>而不是整数<code>0</code>；  </li><li>汉字<code>中</code>超出ASCII编码范围，用Unicode编码是十进制的<code>20013</code>，二进制<code>01001110 00101101</code>。  </li></ul><p>你可以猜测的是，如果把ASCII编码的<code>A</code>用Unicode编码，在前方补0，因此<code>A</code>的Unicode编码是<code>00000000 01000001</code>。</p><p>但是新的问题又出现了：如果统一成Unicode编码，乱码问题没了，但是如果你写的文本基本上全是英文的话，用Unicode编码比ASCII编码多一倍空间，所以储存和传输上十分不划算。<br>所以本着节约的精神，又出现了把Unicode转化为“可变长编码”的<code>UTF-8</code>编码。UTF-8编码把一个Unicode字符根据不同的数字大小编码成1-6个字节，常用的英文字母被编码成1个字节，汉字通常是三个字节，只有生僻的字符才会被编码成4-6个字节。如果你要传输的文本包含大量英文字符，用UTF-8编码就能节省空间：</p><table><thead><tr><th align="right">字符</th><th align="right">ASCII</th><th align="right">Unicode</th><th align="right">UTF-8</th></tr></thead><tbody><tr><td align="right">A</td><td align="right">01000001</td><td align="right">00000000 01000001</td><td align="right">01000001</td></tr><tr><td align="right">中</td><td align="right">X</td><td align="right">01001110 00101101</td><td align="right">11100100 10111000 10101101</td></tr></tbody></table><p>从上面的表格还可以发现，UTF-8有个额外的好处，就是ASCII编码实际上是UTF-8编码的一部分，所以，大量只支持ASCII编码的历史遗留软件可以在UTF-8编码下继续工作。<br>搞清楚了ASCII、Unicode和UTF-8的关系，我们现在总结下计算机系统通用的字符编码工作方式：<br>在计算机内存中，统一使用Unicode编码，当需要保存到硬盘或者传输的时候，就转换为UTF-8编码。<br>用记事本编辑的时候，从文件读取的UTF-8字符被转换为Unicode字符到内存里，编辑完成后，保存的时候再把Unicode转换为UTF-8保存到文件：</p><p><img src="https://res.zhangkai.xin/pic/Python04-02.png" alt=""></p><p>浏览网页时，服务器会把动态生成的Unicode内容转换为UTF-8再传输到浏览器：</p><p><img src="https://res.zhangkai.xin/pic/Python04-03.png" alt=""></p><p>所以你看到很多网页的源码上会有类似<code>&lt;meta charset=&quot;UTF-8&quot; /&gt;</code>的信息，表示该网页正是用的UTF-8编码。</p><h1 id="Python的字符串"><a href="#Python的字符串" class="headerlink" title="Python的字符串"></a>Python的字符串</h1><p>搞清楚了字符编码问题后，我们再来研究Python的字符串。</p><p>在最新版Python 3版本中，字符串是以Unicode编码的，也就是说，Python的字符串支持多语言，例如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'包含中文的str'</span>)</span><br><span class="line">包含中文的str</span><br></pre></td></tr></table></figure><p>对于单个字符的编码，Python提供了<code>ord()</code>函数获取字符的整数表示，<code>chr()</code>函数把编码转换成对应的字符：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>ord(<span class="string">'A'</span>)</span><br><span class="line"><span class="number">65</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ord(<span class="string">'中'</span>)</span><br><span class="line"><span class="number">20013</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>chr(<span class="number">66</span>)</span><br><span class="line"><span class="string">'B'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>chr(<span class="number">25991</span>)</span><br><span class="line"><span class="string">'文'</span></span><br></pre></td></tr></table></figure><p>如果知道字符的整数编码，还可以用十六进制这么写str：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'\u4e2d\u6587'</span></span><br><span class="line"><span class="string">'中文'</span></span><br></pre></td></tr></table></figure><p>两种写法完全等价。</p><p>由于Python的字符串类型是<code>str</code>，在内存中以Unicode表示，一个字符对应若干个字节。如果要在网络上传输，或者保存到磁盘上，就需要把<code>str</code>变为以字节为单位的<code>bytes</code>。</p><p>Python对<code>bytes</code>类型的数据用<code>b</code>前缀表示：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x=<span class="string">b'ABC'</span></span><br></pre></td></tr></table></figure><p>注意区分<code>&#39;ABC&#39;</code>和<code>b&#39;ABC&#39;</code>，前者是str，后者虽然显示和前者一样，但bytes的每个字符都只占用一个字节。</p><p>以Unicode表示的str通过<code>encode()</code>方法可以编码为直径的bytes，例如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'ABC'</span>.encode(<span class="string">'ascii'</span>)</span><br><span class="line"><span class="string">b'ABC'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'中文'</span>.encode(<span class="string">'utf-8'</span>)</span><br><span class="line"><span class="string">b'\xe4\xb8\xad\xe6\x96\x87'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'中文'</span>.encode(<span class="string">'ascii'</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">UnicodeEncodeError: <span class="string">'ascii'</span> codec can<span class="string">'t encode characters in position 0-1: ordinal not in range(128)</span></span><br></pre></td></tr></table></figure><p>纯英文的str可以用ASCII编码为bytes，内容一致，含有中文的str可以用UTF-8编码为bytes。含有中文的str无法用ASCII编码，因为中文编码范围超过了ASCII，Python会报错。</p><p>在bytes中，无法显示为ASCII自负的字节，用<code>\x##</code>显示。</p><p>反过来，如果我们从网络或磁盘上读取了字节流，那么读取到的数据就是bytes。腰包bytes变为str，需要<code>decode()</code>：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">b'ABC'</span>.decode(<span class="string">'ascii'</span>)</span><br><span class="line"><span class="string">'ABC'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">b'\xe4\xb8\xad\xe6\x96\x87'</span>.decode(<span class="string">'utf-8'</span>)</span><br><span class="line"><span class="string">'中文'</span></span><br></pre></td></tr></table></figure><p>如果bytes中包含无法解码的字节，decode()会报错：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">b'\xe4\xb8\xad\xff'</span>.decode(<span class="string">'utf-8'</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  ...</span><br><span class="line">UnicodeDecodeError: <span class="string">'utf-8'</span> codec can<span class="string">'t decode byte 0xff in position 3: invalid start byte</span></span><br></pre></td></tr></table></figure><p>如果bytes中只有一小部分无效的字节，可以传入<code>errors=&#39;ignore&#39;</code>忽略错误的字节：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">b'\xe4\xb8\xad\xff'</span>.decode(<span class="string">'utf-8'</span>, errors=<span class="string">'ignore'</span>)</span><br><span class="line"><span class="string">'中'</span></span><br></pre></td></tr></table></figure><p>要计算str包含多少个字符，可以用<code>len()</code>函数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>len(<span class="string">'ABC'</span>)</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>len(<span class="string">'中文'</span>)</span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure><p>len()函数计算的是str的字符数，如果换成bytes，len()就计算字节数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>len(<span class="string">b'ABC'</span>)</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>len(<span class="string">b'\xe4\xb8\xad\xe6\x96\x87'</span>)</span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>len(<span class="string">'中文'</span>.encode(<span class="string">'utf-8'</span>))</span><br><span class="line"><span class="number">6</span></span><br></pre></td></tr></table></figure><p>可见，1个中文字符经过UTF-8编码后通常会占用3个字节，而1个英文字符只占用1个字节。</p><p>在操作字符串时，我们经常遇到str和bytes的互相转换。为了避免乱码问题，应当始终坚持使用UTF-8编码对str和bytes进行转换。</p><p>由于Python源代码也是一个文本文件，所以，当你的源代码中包含中文的时候，在保存源代码时，就需要务必指定保存为UTF-8编码。当Python解释器读取源代码时，为了让它按UTF-8编码读取，我们通常在文件开头写上这两行：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br></pre></td></tr></table></figure><p>第一行注释是为了告诉Linux/OS X系统，这是一个Python可执行程序，Windows系统会忽略这个注释；<br>第二行注释是为了告诉Python解释器，按照UTF-8编码读取源代码，否则，你在源代码中写的中文输出可能会有乱码。  </p><p>申明了UTF-8编码并不意味着你的.py文件就是UTF-8编码的，必须并且要确保文本编辑器正在使用UTF-8 without BOM编码：</p><p><img src="https://res.zhangkai.xin/pic/Python04-04.png" alt=""></p><p>如果.py文件本身使用UTF-8编码，并且也申明了<code># -*- coding: utf-8 -*-</code>，打开命令提示符测试就可以正常显示中文：</p><p><img src="https://res.zhangkai.xin/pic/Python04-05.png" alt=""></p><h2 id="格式化"><a href="#格式化" class="headerlink" title="格式化"></a>格式化</h2><p>最后一个常见的问题是如何输出格式化的字符串。我们经常会输出类似<code>&#39;亲爱的xxx你好！你xx月的话费是xx，余额是xx&#39;</code>之类的字符串，而xxx的内容都是根据变量变化的，所以，需要一种简便的格式化字符串的方式。</p><p>在Python中，采用的格式化方式和C语言是一致的，用<code>%</code>实现，举例如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'Hello, %s!'</span>%<span class="string">'world'</span></span><br><span class="line"><span class="string">'Hello, world!'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'Hi, %s, you have $%d.'</span>%(<span class="string">'Michael'</span>,<span class="number">1000000</span>)</span><br><span class="line"><span class="string">'Hi, Michael, you have $1000000.'</span></span><br></pre></td></tr></table></figure><p>你可能猜到了，<code>%</code>运算符就是用来格式化字符串的。在字符串内部，<code>%s</code>表示用字符串替换，<code>%d</code>表示用整数替换，有几个<code>%?</code>占位符，后面就跟几个变量或者值，顺序要对应好。如果只有一个<code>%?</code>，括号可以省略。</p><table><thead><tr><th align="left">占位符</th><th align="left">替换内容</th></tr></thead><tbody><tr><td align="left">%d</td><td align="left">整数</td></tr><tr><td align="left">%f</td><td align="left">浮点数</td></tr><tr><td align="left">%s</td><td align="left">字符串</td></tr><tr><td align="left">%x</td><td align="left">十六进制整数</td></tr></tbody></table><p>其中，格式化整数和浮点数还可以指定是否补0和整数与小数的位数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'%2d-%02d'</span>%(<span class="number">3</span>,<span class="number">1</span>))</span><br><span class="line"> <span class="number">3</span><span class="number">-01</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'%.2f'</span>%<span class="number">3.1415926</span>)</span><br><span class="line"><span class="number">3.14</span></span><br></pre></td></tr></table></figure><p>如果你不太确定应该用什么，<code>%s</code>永远起作用，它会把任何数据类型转换为字符串：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'Age: %s. Gender: %s'</span>%(<span class="number">25</span>,<span class="keyword">True</span>)</span><br><span class="line"><span class="string">'Age: 25. Gender: True'</span></span><br></pre></td></tr></table></figure><p>有些时候，字符串里面的<code>%</code>是一个普通字符怎么办？这个时候就需要转义，用<code>%%</code>来表示一个<code>%</code>：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'growth rate: %d %%'</span>%<span class="number">7</span></span><br><span class="line"><span class="string">'growth rate: 7 %'</span></span><br></pre></td></tr></table></figure><h2 id="format"><a href="#format" class="headerlink" title="format()"></a>format()</h2><p>另一种格式化字符串的方法是使用<code>format()</code>，它会用传入的参数一次替换字符串中的占位符<code>{0}</code>、<code>{1}</code>……，不过这明显比%麻烦得多：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'Hello, &#123;0&#125;, 成绩提升了 &#123;1:.1f&#125;%'</span>.format(<span class="string">'小明'</span>,<span class="number">17.125</span>)</span><br><span class="line"><span class="string">'Hello, 小明, 成绩提升了 17.1%'</span></span><br></pre></td></tr></table></figure><h1 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h1><p>Python 3的字符串使用Unicode，直接支持多语言。</p><p>当str和bytes互相转换时，需要指定编码。最常用的编码是UTF-8。Python当然也支持其他编码方式，比如把Unicode编码成GB2312：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'中文'</span>.encode(<span class="string">'gb2312'</span>)</span><br><span class="line"><span class="string">b'\xd6\xd0\xce\xc4'</span></span><br></pre></td></tr></table></figure><p>但这种方式纯属自找麻烦，如果没有特殊业务要求，请牢记仅使用UTF-8编码。</p><p>格式化字符串的时候，可以用Python的交互式环境测试，方便快捷。</p><hr><h1 id="提前尝试"><a href="#提前尝试" class="headerlink" title="提前尝试"></a>提前尝试</h1><p>复习知识点并尝试练习此题目：</p><blockquote><p>T04-01: 小明的成绩从去年的72分提升到了今年的85分，请计算小明成绩提升的百分点，并用字符串格式化显示出<code>&#39;xx.x%&#39;</code>，只保留小数点后1位：</p><p>提示：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line">s1 = <span class="number">72</span></span><br><span class="line">s2 = <span class="number">85</span></span><br><span class="line">r = ???</span><br><span class="line">print(<span class="string">'???'</span> % r)</span><br></pre></td></tr></table></figure></blockquote><p>请执行此代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a=100</span><br><span class="line">if a&gt;=0:</span><br><span class="line">    print(a)</span><br><span class="line">else:</span><br><span class="line">    print(-a)</span><br></pre></td></tr></table></figure><p>观察显示的的结果并尝试完成以下任务：</p><ol><li>思考这段代码中每行都表示什么意思</li><li>修改a的值或将a的值变为输入时赋值</li></ol><hr><blockquote><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://res.zhangkai.xin/pic/license/BY-NC-SA_80x15.png" alt="知识共享许可协议"></a></p><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://res.zhangkai.xin/pic/license/BY-NC-SA_88x31.png" alt="知识共享许可协议"></a></p><p>本作品采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css&quot;&gt;&lt;link rel=&quot;stylesheet&quot; class
      
    
    </summary>
    
    
      <category term="Python入门" scheme="https://www.zhangkai.xin/tags/Python%E5%85%A5%E9%97%A8/"/>
    
  </entry>
  
  <entry>
    <title>crt和excrt</title>
    <link href="https://www.zhangkai.xin/blog/crt-and-excrt/"/>
    <id>https://www.zhangkai.xin/blog/crt-and-excrt/</id>
    <published>2019-02-13T08:18:16.000Z</published>
    <updated>2020-03-07T23:29:13.908Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css"><link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="crt"><a href="#crt" class="headerlink" title="crt"></a>crt</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">exgcd</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b,<span class="keyword">int</span> &amp;x,<span class="keyword">int</span> &amp;y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(!b)&#123;x=<span class="number">1</span>,y=<span class="number">0</span>;<span class="keyword">return</span> a;&#125;</span><br><span class="line"><span class="keyword">int</span> t=exgcd(b,a%b,y,x);y-=a/b*x;<span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">crt</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> ans=<span class="number">0</span>,lcm=<span class="number">1</span>,x,y;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=k;i++)</span><br><span class="line">lcm*=b[i];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=k;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> tp=lcm/b[i];</span><br><span class="line">exgcd(tp,b[i],x,y);</span><br><span class="line">x=(x%b[i]+b[i])%b[i];</span><br><span class="line">ans=(ans+tp*x*a[i])%lcm;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> (ans+lcm)%lcm;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="excrt"><a href="#excrt" class="headerlink" title="excrt"></a>excrt</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">exgcd</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b,<span class="keyword">int</span> &amp;x,<span class="keyword">int</span> &amp;y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(!b)&#123;x=<span class="number">1</span>,y=<span class="number">0</span>;<span class="keyword">return</span> a;&#125;</span><br><span class="line"><span class="keyword">int</span> t=exgcd(b,a%b,y,x);y-=a/b*x;<span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">excrt</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x,y,k;</span><br><span class="line">    <span class="keyword">int</span> M=b[<span class="number">1</span>],ans=a[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> c=(a[i]-ans%b[i]+b[i])%b[i];</span><br><span class="line">        <span class="keyword">int</span> gcd=exgcd(M,b[i],x,y),bg=b[i]/gcd;</span><br><span class="line">        <span class="keyword">if</span>(c%gcd)<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        x=x*c/gcd%bg;</span><br><span class="line">        ans+=x*M;</span><br><span class="line">        M*=bg;</span><br><span class="line">        ans=(ans%M+M)%M;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (ans%M+M)%M;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><blockquote><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://res.zhangkai.xin/pic/license/BY-NC-SA_80x15.png" alt="知识共享许可协议"></a></p><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://res.zhangkai.xin/pic/license/BY-NC-SA_88x31.png" alt="知识共享许可协议"></a></p><p>本作品采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css&quot;&gt;&lt;link rel=&quot;stylesheet&quot; class
      
    
    </summary>
    
    
      <category term="数学" scheme="https://www.zhangkai.xin/tags/%E6%95%B0%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>多项式</title>
    <link href="https://www.zhangkai.xin/blog/Polynomial/"/>
    <id>https://www.zhangkai.xin/blog/Polynomial/</id>
    <published>2019-02-11T13:22:15.000Z</published>
    <updated>2020-03-03T04:10:53.688Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css"><link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="FFT"><a href="#FFT" class="headerlink" title="FFT"></a>FFT</h1><h2 id="递归版"><a href="#递归版" class="headerlink" title="递归版"></a>递归版</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> M_PI</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> M_PI3.14159265358979323846</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">fushu</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">double</span> x,y;</span><br><span class="line">&#125;f[<span class="number">4000005</span>],g[<span class="number">4000005</span>];</span><br><span class="line">fushu <span class="keyword">operator</span>+(fushu a,fushu b)&#123;<span class="keyword">return</span> (fushu)&#123;a.x+b.x,a.y+b.y&#125;;&#125;</span><br><span class="line">fushu <span class="keyword">operator</span>-(fushu a,fushu b)&#123;<span class="keyword">return</span> (fushu)&#123;a.x-b.x,a.y-b.y&#125;;&#125;</span><br><span class="line">fushu <span class="keyword">operator</span>*(fushu a,fushu b)&#123;<span class="keyword">return</span> (fushu)&#123;a.x*b.x-a.y*b.y,a.x*b.y+a.y*b.x&#125;;&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fft</span><span class="params">(<span class="keyword">int</span> lim,fushu *a,<span class="keyword">int</span> tp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(lim==<span class="number">1</span>)<span class="keyword">return</span> ;</span><br><span class="line">fushu a1[lim&gt;&gt;<span class="number">1</span>],a2[lim&gt;&gt;<span class="number">1</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=lim;i+=<span class="number">2</span>)</span><br><span class="line">a1[i&gt;&gt;<span class="number">1</span>]=a[i],a2[i&gt;&gt;<span class="number">1</span>]=a[i+<span class="number">1</span>];</span><br><span class="line">fft(lim&gt;&gt;<span class="number">1</span>,a1,tp);</span><br><span class="line">fft(lim&gt;&gt;<span class="number">1</span>,a2,tp);</span><br><span class="line">fushu Wn=(fushu)&#123;<span class="built_in">cos</span>(<span class="number">2.0</span>*M_PI/lim),tp*<span class="built_in">sin</span>(<span class="number">2.0</span>*M_PI/lim)&#125;,w=(fushu)&#123;<span class="number">1.0</span>&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;(lim&gt;&gt;<span class="number">1</span>);i++,w=w*Wn)</span><br><span class="line">&#123;</span><br><span class="line">a[i]=a1[i]+w*a2[i];</span><br><span class="line">a[i+(lim&gt;&gt;<span class="number">1</span>)]=a1[i]-w*a2[i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=n;i++)</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%lf"</span>,&amp;f[i].x);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=m;i++)</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%lf"</span>,&amp;g[i].x);</span><br><span class="line"><span class="keyword">int</span> lim=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span>(lim&lt;=n+m)</span><br><span class="line">lim&lt;&lt;=<span class="number">1</span>;</span><br><span class="line">fft(lim,f,<span class="number">1</span>);</span><br><span class="line">fft(lim,g,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=lim;i++)</span><br><span class="line">f[i]=f[i]*g[i];</span><br><span class="line">fft(lim,f,<span class="number">-1</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=n+m;i++)</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%.0lf "</span>,<span class="built_in">floor</span>(f[i].x/lim));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其中可以小优化一下</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;(lim&gt;&gt;<span class="number">1</span>);i++,w=w*Wn)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">complex</span> t=w*a2[i];</span><br><span class="line">    a[i]=a1[i]+t,</span><br><span class="line">    a[i+(lim&gt;&gt;<span class="number">1</span>)]=a1[i]-t;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="迭代版"><a href="#迭代版" class="headerlink" title="迭代版"></a>迭代版</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> M_PI</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> M_PI3.14159265358979323846</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">fushu</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">double</span> x,y;</span><br><span class="line">&#125;f[<span class="number">10000005</span>],g[<span class="number">10000005</span>];</span><br><span class="line">fushu <span class="keyword">operator</span>+(fushu a,fushu b)&#123;<span class="keyword">return</span> (fushu)&#123;a.x+b.x,a.y+b.y&#125;;&#125;</span><br><span class="line">fushu <span class="keyword">operator</span>-(fushu a,fushu b)&#123;<span class="keyword">return</span> (fushu)&#123;a.x-b.x,a.y-b.y&#125;;&#125;</span><br><span class="line">fushu <span class="keyword">operator</span>*(fushu a,fushu b)&#123;<span class="keyword">return</span> (fushu)&#123;a.x*b.x-a.y*b.y,a.x*b.y+a.y*b.x&#125;;&#125;</span><br><span class="line"><span class="keyword">int</span> l,r[<span class="number">10000005</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fft</span><span class="params">(<span class="keyword">int</span> lim,fushu *a,<span class="keyword">int</span> tp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;lim;i++)</span><br><span class="line"><span class="keyword">if</span>(i&lt;r[i])</span><br><span class="line">swap(a[i],a[r[i]]);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> mid=<span class="number">1</span>;mid&lt;lim;mid&lt;&lt;=<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">fushu Wn=(fushu)&#123;<span class="built_in">cos</span>(M_PI/mid),tp*<span class="built_in">sin</span>(M_PI/mid)&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> R=mid&lt;&lt;<span class="number">1</span>,j=<span class="number">0</span>;j&lt;lim;j+=R)</span><br><span class="line">&#123;</span><br><span class="line">fushu w=(fushu)&#123;<span class="number">1</span>,<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;mid;k++,w=w*Wn)</span><br><span class="line">&#123;</span><br><span class="line">fushu x=a[j+k],y=w*a[j+mid+k];</span><br><span class="line">a[j+k]=x+y;</span><br><span class="line">a[j+mid+k]=x-y;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=n;i++)</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%lf"</span>,&amp;f[i].x);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=m;i++)</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%lf"</span>,&amp;g[i].x);</span><br><span class="line"><span class="keyword">int</span> lim=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span>(lim&lt;=n+m)lim&lt;&lt;=<span class="number">1</span>,l++;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;lim;i++)</span><br><span class="line">r[i]=(r[i&gt;&gt;<span class="number">1</span>]&gt;&gt;<span class="number">1</span>)|((i&amp;<span class="number">1</span>)&lt;&lt;(l<span class="number">-1</span>));</span><br><span class="line">fft(lim,f,<span class="number">1</span>);</span><br><span class="line">fft(lim,g,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=lim;i++)</span><br><span class="line">f[i]=f[i]*g[i];</span><br><span class="line">fft(lim,f,<span class="number">-1</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=n+m;i++)</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%.0lf "</span>,<span class="built_in">floor</span>(f[i].x/lim+<span class="number">0.5</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="NTT"><a href="#NTT" class="headerlink" title="NTT"></a>NTT</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">long</span> <span class="keyword">long</span> P=<span class="number">998244353</span>,G=<span class="number">3</span>,Gi=<span class="number">332748118</span>;</span><br><span class="line"><span class="keyword">int</span> n,m,l,r[<span class="number">3000005</span>];</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> f[<span class="number">3000005</span>],g[<span class="number">3000005</span>];</span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">pow</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a,<span class="keyword">long</span> <span class="keyword">long</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> ans=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span>(k)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(k&amp;<span class="number">1</span>)ans=(ans*a)%P;</span><br><span class="line">a=(a*a)%P;</span><br><span class="line">k&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ans%P;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ntt</span><span class="params">(<span class="keyword">int</span> lim,<span class="keyword">long</span> <span class="keyword">long</span> *a,<span class="keyword">int</span> tp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;lim;i++)</span><br><span class="line"><span class="keyword">if</span>(i&lt;r[i])</span><br><span class="line">swap(a[i],a[r[i]]);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> mid=<span class="number">1</span>;mid&lt;lim;mid&lt;&lt;=<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> Wn=<span class="built_in">pow</span>(tp==<span class="number">1</span>?G:Gi,(P<span class="number">-1</span>)/(mid&lt;&lt;<span class="number">1</span>));</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> R=mid&lt;&lt;<span class="number">1</span>,j=<span class="number">0</span>;j&lt;lim;j+=R)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> w=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;mid;k++,w=(w*Wn)%P)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> x=a[j+k],y=w*a[j+mid+k]%P;</span><br><span class="line">a[j+k]=(x+y)%P;</span><br><span class="line">a[j+mid+k]=(x-y+P)%P;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%lld%lld"</span>,&amp;n,&amp;m);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=n;i++)</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;f[i]),f[i]=(f[i]+P)%P;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=m;i++)</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;g[i]),g[i]=(g[i]+P)%P;</span><br><span class="line"><span class="keyword">int</span> lim=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span>(lim&lt;=n+m)lim&lt;&lt;=<span class="number">1</span>,l++;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;lim;i++)</span><br><span class="line">r[i]=(r[i&gt;&gt;<span class="number">1</span>]&gt;&gt;<span class="number">1</span>)|((i&amp;<span class="number">1</span>)&lt;&lt;(l<span class="number">-1</span>));</span><br><span class="line">ntt(lim,f,<span class="number">1</span>);</span><br><span class="line">ntt(lim,g,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=lim;i++)</span><br><span class="line">f[i]=(f[i]*g[i])%P;</span><br><span class="line">ntt(lim,f,<span class="number">-1</span>);</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> inv=<span class="built_in">pow</span>(lim,P<span class="number">-2</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=n+m;i++)</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%lld "</span>,(f[i]*inv)%P);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css&quot;&gt;&lt;link rel=&quot;stylesheet&quot; class
      
    
    </summary>
    
    
      <category term="数学" scheme="https://www.zhangkai.xin/tags/%E6%95%B0%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>【Python入门】03 Python基础2——代码缩进、数据类型和变量</title>
    <link href="https://www.zhangkai.xin/blog/Python-03/"/>
    <id>https://www.zhangkai.xin/blog/Python-03/</id>
    <published>2019-02-07T19:18:00.000Z</published>
    <updated>2020-03-07T23:31:13.647Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css"><link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>在上一期的末尾我们说到一段代码</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">100</span></span><br><span class="line"><span class="keyword">if</span> a&gt;=<span class="number">0</span>:</span><br><span class="line">    print(a)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(-a)</span><br></pre></td></tr></table></figure><h1 id="缩进及注释"><a href="#缩进及注释" class="headerlink" title="缩进及注释"></a>缩进及注释</h1><p>我们发现它采用缩进的方式</p><p>缩进有利有弊，好处是强迫你格式化写代码，但没有规定缩进是几个空格或Tab。按照我们约定俗成的规定，应始终坚持使用 4个空格 的缩进。</p><p>缩进的另一个好处是强迫你写出缩进较少的代码，你会倾向于把一段很长的代码拆成若干个函数，从而得到缩进较少的代码。</p><p>当然，坏处就是“复制”——“粘贴”失效了，当你重构代码时，需要检查缩进是否正确。</p><p>务必注意，Python是大小写敏感的，这意味着你不能用错大小写（例如将input()打成Input()或INPUT()）。</p><p>如果我们要注释一些给人看的，程序会忽略的语句，可以在该行最开头写上符号#，例如</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 打印绝对值</span></span><br><span class="line">a=<span class="number">100</span></span><br><span class="line"><span class="keyword">if</span> a&gt;=<span class="number">0</span>:</span><br><span class="line">    print(a)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(-a)</span><br></pre></td></tr></table></figure><p>这样有‘#’的那一行的代码都不会执行</p><h1 id="数据类型和变量"><a href="#数据类型和变量" class="headerlink" title="数据类型和变量"></a>数据类型和变量</h1><p>计算机最早就是用于数学计算的机器，因此计算机理所当然可以处理各种数值。<br>但是计算机还可以处理文本、图形、音频、视频、网页等数据，这就需要定义不同的数据类型。</p><h2 id="整数"><a href="#整数" class="headerlink" title="整数"></a>整数</h2><p>Python可以处理任意大小的整数，这包括负整数，写法与数学上相同，例如</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">100</span></span><br><span class="line"><span class="number">-8080</span></span><br><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure><p>等。</p><p>由于计算机内部采用二进制存储，所以有时候采用一些特定的进制比较方便。</p><p>我们就通常采用十六进制表示一个整数，我们用 0x 前缀表示这个数是一个十六进制数，对于十六进制数的一个位上的数，0-9正常表示，10-15分别对应a-f（或A-F）。例如</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0xff00</span> <span class="comment"># 十进制下的65280</span></span><br><span class="line"><span class="number">0xa5b4c3d2</span> <span class="comment"># 十进制下的2780087250</span></span><br></pre></td></tr></table></figure><h2 id="浮点数"><a href="#浮点数" class="headerlink" title="浮点数"></a>浮点数</h2><p>浮点数就是小数。我们在计算机中采用科学计数法方式表示，小数点位置可变（例如$1.23\times10^9 = 12.3\times10^8$），就像来回浮动一样，故得名 浮点数 。<br>当然也可以采用数学写法，$1.23\times10^9 = 1,230,000,000$，$31.4\times10^{-1} = 3.14\times10^0 = 3.14$<br>对于一个很大或很小的浮点数，我们再采用数学写法未免有些困难，所以我们采用合理的科学计数法表示，我们用$e$来表示$10$，$AeX$就是$A\times10^X$，例如<br>$1,230,000,000 = 1.23\times10^9 = 1.23e9$<br>$0.000,012 = 1.2\times10^{-5} = 1.2e-5$  </p><p>注意：整数和浮点数在计算机上存储方式不同，整数运算永远是精确的（包括除法），浮点数存在一定的四舍五入精度误差。</p><h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><p>字符串是以单引号’或者双引号”括起来的文本，单引号和双引号本身不是字符串的内容，它这表示这是个字符串。<br>例如</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">`abc`和<span class="string">"xyz"</span></span><br><span class="line">中第一个字符串中只有`a、b和c`三个字符，第二个字符串中只有`x、y和z`三个字符</span><br></pre></td></tr></table></figure><p>事实上，如果你要单独使用<code>&#39;</code>这个符号，可以用双引号</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"I'm Peter_Matthew."</span></span><br></pre></td></tr></table></figure><p>但是如果你需要使用”，你需要使用 转义字符<code>\</code>来表示。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'I\'m \"Peter_Matthew\".'</span></span><br></pre></td></tr></table></figure><p>表示的内容为</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">I<span class="string">'m "Peter_Matthew".</span></span><br></pre></td></tr></table></figure><p>转义字符<code>\</code>的作用是将这里的内容转换为别的字符而不是保留，它可以转义很多字符，例如</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">\n 表示换行符</span><br><span class="line">\t 表示制表符</span><br><span class="line">\\ 表示\</span><br></pre></td></tr></table></figure><p>使用print可以打印字符串而不会显示最外边的<code>&#39;</code>和<code>&quot;</code>。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'I\'m \"Peter_Matthew\".'</span>)</span><br><span class="line"><span class="string">'I\'m \"Peter_Matthew\".'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'\\\n\\'</span>)</span><br><span class="line">\</span><br><span class="line">\</span><br></pre></td></tr></table></figure><p>Python在通常情况下默认转义，当你不想它帮你转义时，你可以在前面加上<code>r</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'\\\n\\'</span>)</span><br><span class="line">\</span><br><span class="line">\</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">r'\\\n\\'</span>)</span><br><span class="line">\\\n\\</span><br></pre></td></tr></table></figure><p>同时，由于多行用<code>\n</code>写在一行内会十分影响阅读，所以可以采用<code>&#39;&#39;&#39;...&#39;&#39;&#39;</code>方式表示多行字符串</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''line1</span></span><br><span class="line"><span class="string">line2</span></span><br><span class="line"><span class="string">line3'''</span></span><br></pre></td></tr></table></figure><p>输出它</p><p>在Python交互模式下，<code>...</code>在提示你可以接着上一行输入，<code>...</code>不是代码的一部分。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'''line1</span></span><br><span class="line"><span class="string"><span class="meta">... </span>line2</span></span><br><span class="line"><span class="string"><span class="meta">... </span>line3'''</span>)</span><br><span class="line">line1</span><br><span class="line">line2</span><br><span class="line">line3</span><br></pre></td></tr></table></figure><p>在程序中，请这么写</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'''line1</span></span><br><span class="line"><span class="string">line2</span></span><br><span class="line"><span class="string">line3'''</span>)</span><br></pre></td></tr></table></figure><h2 id="布尔值"><a href="#布尔值" class="headerlink" title="布尔值"></a>布尔值</h2><p>布尔值只有<code>True</code>和<code>False</code>两个值，Python中采用此方式表示布尔值，可以通过布尔运算计算出来</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">True</span></span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">False</span></span><br><span class="line"><span class="keyword">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">3</span> &gt; <span class="number">2</span></span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">3</span> &gt; <span class="number">4</span></span><br><span class="line"><span class="keyword">False</span></span><br></pre></td></tr></table></figure><p>布尔值可以采用<code>and</code>、<code>or</code>和<code>not</code>逻辑运算。</p><h3 id="and"><a href="#and" class="headerlink" title="and"></a>and</h3><p>与运算，只有值均为True时才会返回True。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">True</span> <span class="keyword">and</span> <span class="keyword">True</span></span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">True</span> <span class="keyword">and</span> <span class="keyword">False</span></span><br><span class="line"><span class="keyword">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">False</span> <span class="keyword">and</span> <span class="keyword">True</span></span><br><span class="line"><span class="keyword">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">False</span> <span class="keyword">and</span> <span class="keyword">False</span></span><br><span class="line"><span class="keyword">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">4</span> &gt; <span class="number">3</span> <span class="keyword">and</span> <span class="number">3</span> &gt; <span class="number">2</span></span><br><span class="line"><span class="keyword">True</span></span><br></pre></td></tr></table></figure><h3 id="or"><a href="#or" class="headerlink" title="or"></a>or</h3><p>或运算，只要有值为True时就会返回True。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">True</span> <span class="keyword">or</span> <span class="keyword">True</span></span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">True</span> <span class="keyword">or</span> <span class="keyword">False</span></span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">False</span> <span class="keyword">or</span> <span class="keyword">True</span></span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">False</span> <span class="keyword">or</span> <span class="keyword">False</span></span><br><span class="line"><span class="keyword">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">4</span> &gt; <span class="number">3</span> <span class="keyword">or</span> <span class="number">2</span> &gt; <span class="number">3</span></span><br><span class="line"><span class="keyword">True</span></span><br></pre></td></tr></table></figure><h3 id="not"><a href="#not" class="headerlink" title="not"></a>not</h3><p>非运算，又称取反运算，会将值的真假反相，也就是值为False时为True，反之亦然。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">not</span> <span class="keyword">True</span></span><br><span class="line"><span class="keyword">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">not</span> <span class="keyword">False</span></span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">not</span> <span class="number">2</span> &gt; <span class="number">3</span></span><br><span class="line"><span class="keyword">True</span></span><br></pre></td></tr></table></figure><h2 id="空值"><a href="#空值" class="headerlink" title="空值"></a>空值</h2><p>Python当中的一个特殊值，用<code>None</code>表示。注意<strong>None不能理解为0</strong>。</p><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p>Python开还提供了列表、字典等数据类型，支持自定义数据类型，后续会讲到。</p><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><p>变量概念与初中代数方程变量一致，只是在计算机程序中，变量不仅可以是数字，还可以是任意的数据类型。</p><p>变量在程序中用一个变量名表示了，变量名必须是大小写英文字母、数字和_的组合，且不能以数字开头。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">1</span></span><br><span class="line">t_007=<span class="string">'T007'</span></span><br><span class="line">Answer=<span class="keyword">True</span></span><br></pre></td></tr></table></figure><p>其中，a是整数，t_007是字符串，Answer是布尔值。</p><p>并且在其中，这里的<code>=</code>符号是赋值，意思是把等式后面的值给变量，同一个变量可以被反复赋值，而且同一个数据变量每次被赋值时的数据类型可以不同</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=<span class="number">123</span> <span class="comment"># a是整数</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(a)</span><br><span class="line"><span class="number">123</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=<span class="string">'ABC'</span> <span class="comment"># a变为字符串</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(a)</span><br></pre></td></tr></table></figure><blockquote><p>这种变量类型不固定的语言称为 动态语言 ，与之对应的是静态语言，静态语言必须指定变量类型，如赋值时不匹配，就会报错。<br>例如java和C++中</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a=<span class="number">123</span>;<span class="comment">//a是整数</span></span><br><span class="line">a=<span class="string">"ABC"</span>;<span class="comment">//赋值错误：变量类型不匹配</span></span><br></pre></td></tr></table></figure></blockquote><blockquote><p>和静态语言相比，动态语言更灵活。</p></blockquote><p>请区分Python中，赋值语句的=符号和数学的等号区别，请看下面的例子。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x=<span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(x)</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x=x+<span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(x)</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure><p>如果从数学上理解x=x+2，那么是不成立的。在赋值语句中，程序先计算右侧的表达式x+2的值，得到12，然后在进行赋值，x的值就变成了12</p><blockquote><p>变量在计算机内存中的表示：<br>当我们写</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="string">'ABC'</span></span><br></pre></td></tr></table></figure></blockquote><blockquote><p>Python解释器做了两件事：</p><ol><li>在内存中创建了一个’ABC’的字符串。</li><li>在内存中创建了一个名为a的变量，并把它指向’ABC’。（这与C++的内存表示存在差异）</li></ol><p>当然你也可以把a的值赋给b，这实际是将b指向a所指的数据。<br>对于下面这个例子</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="string">'ABC'</span></span><br><span class="line">b=a</span><br><span class="line">a=<span class="string">'XYZ'</span></span><br><span class="line">print(b)</span><br></pre></td></tr></table></figure></blockquote><blockquote><p>最后一行打印出b的内容是<code>&#39;ABC&#39;</code>还是<code>&#39;XYZ&#39;</code>？从数学上会错误地认为a和b相同都是<code>&#39;XYZ&#39;</code>，实际上b的值是<code>&#39;ABC&#39;</code>，程序是一行一行执行的，所以我们也一行一行执行。</p><p>第一：a=<code>&#39;ABC&#39;</code>，解释器创建了字符串<code>&#39;ABC&#39;</code>和变量a，并把a指向字符串<code>&#39;ABC&#39;</code><br><img src="https://res.zhangkai.xin/pic/Python03-01.png" alt="a=&#39;ABC&#39;"><br>第二：b=a，解释器创建了变量b，并把它指向a所指向的字符串<code>&#39;ABC&#39;</code><br><img src="https://res.zhangkai.xin/pic/Python03-02.png" alt="b=a"><br>第三：a=<code>&#39;XYZ&#39;</code>，解释器创建了字符串<code>&#39;XYZ&#39;</code>，并把a的指向改为<code>&#39;XYZ&#39;</code>，此时b是没有变的。<br><img src="https://res.zhangkai.xin/pic/Python03-03.png" alt="a=&#39;XYZ&#39;"><br>所以最后b的值就是<code>&#39;ABC&#39;</code>了。</p></blockquote><h2 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h2><p>常量就是不能更改的变量，比如π在数学上就是个常量，通常用全部大写的变量名表示常量</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PI=<span class="number">3.141592653589793</span></span><br></pre></td></tr></table></figure><p>但事实上PI仍是变量，Python没有机制阻止变量不更改，所以，这样的写法只是一个习惯用法，没有人拦得住你更改PI的值。</p><h2 id="关于整数除法"><a href="#关于整数除法" class="headerlink" title="关于整数除法"></a>关于整数除法</h2><p>Python中有两种除法。<br>第一种是/：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">10</span>/<span class="number">3</span></span><br><span class="line"><span class="number">3.3333333333333335</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">9</span>/<span class="number">3</span></span><br><span class="line"><span class="number">3.0</span></span><br></pre></td></tr></table></figure><p><code>/</code>的除法结果是浮点数，即使整除也是浮点数。</p><p>还有一种是<code>//</code>：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">10</span>//<span class="number">3</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">10</span>//<span class="number">-3</span></span><br><span class="line"><span class="number">-4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">-10</span>//<span class="number">3</span></span><br><span class="line"><span class="number">-4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">-10</span>//<span class="number">-3</span></span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure><p>这样的结果永远是整数，永远向下取整。</p><p>同时还有一个余数运算<code>%</code>，可以得到相除的余数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">10</span>%<span class="number">3</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">10</span>%<span class="number">-3</span></span><br><span class="line"><span class="number">-2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">-10</span>%<span class="number">3</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">-10</span>%<span class="number">-3</span></span><br><span class="line"><span class="number">-1</span></span><br></pre></td></tr></table></figure><p>我们可以看到余数的正负与除数有关</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 以下是数学解释</span><br><span class="line">10=3*3+110%3=1</span><br><span class="line">10=(-4)*(-3)+(-2)10%(-3)=-2</span><br><span class="line">-10=(-4)*3+2(-10)%3=2</span><br><span class="line">-10=3*(-3)+(-1)(-10)%(-3)=-1</span><br></pre></td></tr></table></figure><p>由于<code>//</code>除法和<code>%</code>取余的结果总是整数，所以整数的除法是精确的。</p><hr><h1 id="提前尝试"><a href="#提前尝试" class="headerlink" title="提前尝试"></a>提前尝试</h1><p>复习知识点并尝试打印下列变量的值</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line">n = <span class="number">123</span></span><br><span class="line">f = <span class="number">456.789</span></span><br><span class="line">s1 = <span class="string">'Hello, world'</span></span><br><span class="line">s2 = <span class="string">'Hello, \'Adam\''</span></span><br><span class="line">s3 = <span class="string">r'Hello, "Bart"'</span></span><br><span class="line">s4 = <span class="string">r'''Hello,</span></span><br><span class="line"><span class="string">Lisa!'''</span></span><br></pre></td></tr></table></figure><p>请执行此代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a=100</span><br><span class="line">if a&gt;=0:</span><br><span class="line">    print(a)</span><br><span class="line">else:</span><br><span class="line">    print(-a)</span><br></pre></td></tr></table></figure><p>观察显示的的结果并尝试完成以下任务：</p><ol><li>思考这段代码中每行都表示什么意思</li><li>修改a的值或将a的值变为输入时赋值</li></ol><hr><blockquote><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://res.zhangkai.xin/pic/license/BY-NC-SA_80x15.png" alt="知识共享许可协议"></a></p><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://res.zhangkai.xin/pic/license/BY-NC-SA_88x31.png" alt="知识共享许可协议"></a></p><p>本作品采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.2.1/css/hint.min.css&quot;&gt;&lt;link rel=&quot;stylesheet&quot; class
      
    
    </summary>
    
    
      <category term="Python入门" scheme="https://www.zhangkai.xin/tags/Python%E5%85%A5%E9%97%A8/"/>
    
  </entry>
  
</feed>
